{"ast":null,"code":"import _asyncToGenerator from \"/Users/advityasood/jude_anyft/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Validators } from '@angular/forms';\nimport { AuthService } from '../../services/auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nexport class LoginSectionComponent {\n  constructor(_FormBuilder, _Injector, _Router, _Route) {\n    this._FormBuilder = _FormBuilder;\n    this._Injector = _Injector;\n    this._Router = _Router;\n    this._Route = _Route;\n  }\n\n  ngOnInit() {\n    // Initialise the form \n    this.form = this._FormBuilder.group({\n      email: [null, [Validators.required, Validators.email]],\n      password: [null, Validators.required]\n    });\n  }\n\n  login() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      console.log('inside login');\n\n      if (!_this.form.valid) {\n        return;\n      }\n\n      let user = yield _this.signIn(_this.form.value).then(res => {\n        let user = res['user'];\n        let token = res['token']; // storageService.setLocalData('authToken', JSON.stringify(res['token']))\n\n        sessionStorage.setItem('token', token);\n        sessionStorage.setItem('user', JSON.stringify(user));\n        console.log('logged in', user, token);\n\n        _this.redirectUser();\n      });\n    })();\n  }\n\n  signIn(userData) {\n    return new Promise((resolve, reject) => {\n      let authService = this._Injector.get(AuthService);\n\n      authService.signIn(userData).then(res => {\n        resolve(res);\n      }).catch(err => {\n        reject({});\n      });\n    });\n  }\n\n  redirectUser() {\n    let params = this._Route.snapshot.queryParams;\n\n    if (params['redirectURL']) {\n      this.redirectURL = params['redirectURL'];\n    }\n\n    if (this.redirectURL) {\n      this._Router.navigateByUrl(this.redirectURL).catch(() => this._Router.navigate(['/authors']));\n    } else {\n      this._Router.navigate(['/authors']);\n    }\n  }\n\n}\n\nLoginSectionComponent.ɵfac = function LoginSectionComponent_Factory(t) {\n  return new (t || LoginSectionComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n\nLoginSectionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginSectionComponent,\n  selectors: [[\"app-login-section\"]],\n  decls: 43,\n  vars: 1,\n  consts: [[1, \"author-area\"], [1, \"container\"], [1, \"row\", \"justify-content-center\"], [1, \"col-12\", \"col-md-8\", \"col-lg-7\"], [1, \"intro\", \"text-center\"], [1, \"mt-3\", \"mb-0\"], [1, \"item-form\", \"card\", \"no-hover\", 3, \"formGroup\", \"ngSubmit\"], [1, \"row\"], [1, \"col-12\"], [1, \"form-group\", \"mt-3\"], [\"type\", \"email\", \"name\", \"email\", \"placeholder\", \"Enter your Email\", \"required\", \"required\", \"formControlName\", \"email\", 1, \"form-control\"], [\"type\", \"password\", \"name\", \"password\", \"placeholder\", \"Enter your Password\", \"required\", \"required\", \"formControlName\", \"password\", 1, \"form-control\"], [1, \"form-check\", \"form-check-inline\"], [\"type\", \"radio\", \"name\", \"inlineRadioOptions\", \"id\", \"inlineRadio1\", \"value\", \"option1\", \"checked\", \"\", 1, \"form-check-input\"], [\"for\", \"inlineRadio1\", 1, \"form-check-label\"], [\"type\", \"submit\", 1, \"btn\", \"w-100\", \"mt-3\", \"mt-sm-4\"], [1, \"other-option\"], [1, \"d-block\", \"text-center\", \"mb-4\"], [1, \"social-icons\", \"d-flex\", \"justify-content-center\"], [\"href\", \"#\", 1, \"facebook\"], [1, \"fab\", \"fa-facebook-f\"], [\"href\", \"#\", 1, \"twitter\"], [1, \"fab\", \"fa-twitter\"], [\"href\", \"#\", 1, \"google-plus\"], [1, \"fab\", \"fa-google-plus-g\"]],\n  template: function LoginSectionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"div\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"span\");\n      i0.ɵɵtext(6, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"h3\", 5);\n      i0.ɵɵtext(8, \"Login to your Account\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"p\");\n      i0.ɵɵtext(10, \"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laborum obcaecati dignissimos quae quo ad iste ipsum officiis deleniti asperiores sit.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"form\", 6);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginSectionComponent_Template_form_ngSubmit_11_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelementStart(12, \"div\", 7);\n      i0.ɵɵelementStart(13, \"div\", 8);\n      i0.ɵɵelementStart(14, \"div\", 9);\n      i0.ɵɵelement(15, \"input\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 8);\n      i0.ɵɵelementStart(17, \"div\", 9);\n      i0.ɵɵelement(18, \"input\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 8);\n      i0.ɵɵelementStart(20, \"div\", 9);\n      i0.ɵɵelementStart(21, \"div\", 12);\n      i0.ɵɵelement(22, \"input\", 13);\n      i0.ɵɵelementStart(23, \"label\", 14);\n      i0.ɵɵtext(24, \"Remember Me\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\", 8);\n      i0.ɵɵelementStart(26, \"button\", 15);\n      i0.ɵɵtext(27, \"Sign In\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 8);\n      i0.ɵɵelement(29, \"hr\");\n      i0.ɵɵelementStart(30, \"div\", 16);\n      i0.ɵɵelementStart(31, \"span\", 17);\n      i0.ɵɵtext(32, \"Or\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"div\", 18);\n      i0.ɵɵelementStart(34, \"a\", 19);\n      i0.ɵɵelement(35, \"i\", 20);\n      i0.ɵɵelement(36, \"i\", 20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"a\", 21);\n      i0.ɵɵelement(38, \"i\", 22);\n      i0.ɵɵelement(39, \"i\", 22);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"a\", 23);\n      i0.ɵɵelement(41, \"i\", 24);\n      i0.ɵɵelement(42, \"i\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi1zZWN0aW9uLmNvbXBvbmVudC5zY3NzIn0= */\"]\n});","map":{"version":3,"sources":["/Users/advityasood/jude_anyft/src/app/components/login-section/login-section.component.ts"],"names":["Validators","AuthService","i0","i1","i2","LoginSectionComponent","constructor","_FormBuilder","_Injector","_Router","_Route","ngOnInit","form","group","email","required","password","login","console","log","valid","user","signIn","value","then","res","token","sessionStorage","setItem","JSON","stringify","redirectUser","userData","Promise","resolve","reject","authService","get","catch","err","params","snapshot","queryParams","redirectURL","navigateByUrl","navigate","ɵfac","LoginSectionComponent_Factory","t","ɵɵdirectiveInject","FormBuilder","Injector","Router","ActivatedRoute","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","LoginSectionComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LoginSectionComponent_Template_form_ngSubmit_11_listener","ɵɵelement","ɵɵadvance","ɵɵproperty","styles"],"mappings":"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","sourcesContent":["import { Validators } from '@angular/forms';\nimport { AuthService } from '../../services/auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nexport class LoginSectionComponent {\n    constructor(_FormBuilder, _Injector, _Router, _Route) {\n        this._FormBuilder = _FormBuilder;\n        this._Injector = _Injector;\n        this._Router = _Router;\n        this._Route = _Route;\n    }\n    ngOnInit() {\n        // Initialise the form \n        this.form = this._FormBuilder.group({\n            email: [null, [Validators.required, Validators.email]],\n            password: [null, Validators.required]\n        });\n    }\n    async login() {\n        console.log('inside login');\n        if (!this.form.valid) {\n            return;\n        }\n        let user = await this.signIn(this.form.value)\n            .then((res) => {\n            let user = res['user'];\n            let token = res['token'];\n            // storageService.setLocalData('authToken', JSON.stringify(res['token']))\n            sessionStorage.setItem('token', token);\n            sessionStorage.setItem('user', JSON.stringify(user));\n            console.log('logged in', user, token);\n            this.redirectUser();\n        });\n    }\n    signIn(userData) {\n        return new Promise((resolve, reject) => {\n            let authService = this._Injector.get(AuthService);\n            authService.signIn(userData)\n                .then((res) => {\n                resolve(res);\n            })\n                .catch((err) => {\n                reject({});\n            });\n        });\n    }\n    redirectUser() {\n        let params = this._Route.snapshot.queryParams;\n        if (params['redirectURL']) {\n            this.redirectURL = params['redirectURL'];\n        }\n        if (this.redirectURL) {\n            this._Router.navigateByUrl(this.redirectURL)\n                .catch(() => this._Router.navigate(['/authors']));\n        }\n        else {\n            this._Router.navigate(['/authors']);\n        }\n    }\n}\nLoginSectionComponent.ɵfac = function LoginSectionComponent_Factory(t) { return new (t || LoginSectionComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute)); };\nLoginSectionComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: LoginSectionComponent, selectors: [[\"app-login-section\"]], decls: 43, vars: 1, consts: [[1, \"author-area\"], [1, \"container\"], [1, \"row\", \"justify-content-center\"], [1, \"col-12\", \"col-md-8\", \"col-lg-7\"], [1, \"intro\", \"text-center\"], [1, \"mt-3\", \"mb-0\"], [1, \"item-form\", \"card\", \"no-hover\", 3, \"formGroup\", \"ngSubmit\"], [1, \"row\"], [1, \"col-12\"], [1, \"form-group\", \"mt-3\"], [\"type\", \"email\", \"name\", \"email\", \"placeholder\", \"Enter your Email\", \"required\", \"required\", \"formControlName\", \"email\", 1, \"form-control\"], [\"type\", \"password\", \"name\", \"password\", \"placeholder\", \"Enter your Password\", \"required\", \"required\", \"formControlName\", \"password\", 1, \"form-control\"], [1, \"form-check\", \"form-check-inline\"], [\"type\", \"radio\", \"name\", \"inlineRadioOptions\", \"id\", \"inlineRadio1\", \"value\", \"option1\", \"checked\", \"\", 1, \"form-check-input\"], [\"for\", \"inlineRadio1\", 1, \"form-check-label\"], [\"type\", \"submit\", 1, \"btn\", \"w-100\", \"mt-3\", \"mt-sm-4\"], [1, \"other-option\"], [1, \"d-block\", \"text-center\", \"mb-4\"], [1, \"social-icons\", \"d-flex\", \"justify-content-center\"], [\"href\", \"#\", 1, \"facebook\"], [1, \"fab\", \"fa-facebook-f\"], [\"href\", \"#\", 1, \"twitter\"], [1, \"fab\", \"fa-twitter\"], [\"href\", \"#\", 1, \"google-plus\"], [1, \"fab\", \"fa-google-plus-g\"]], template: function LoginSectionComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"span\");\n        i0.ɵɵtext(6, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"h3\", 5);\n        i0.ɵɵtext(8, \"Login to your Account\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"p\");\n        i0.ɵɵtext(10, \"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laborum obcaecati dignissimos quae quo ad iste ipsum officiis deleniti asperiores sit.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"form\", 6);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginSectionComponent_Template_form_ngSubmit_11_listener() { return ctx.login(); });\n        i0.ɵɵelementStart(12, \"div\", 7);\n        i0.ɵɵelementStart(13, \"div\", 8);\n        i0.ɵɵelementStart(14, \"div\", 9);\n        i0.ɵɵelement(15, \"input\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 8);\n        i0.ɵɵelementStart(17, \"div\", 9);\n        i0.ɵɵelement(18, \"input\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 8);\n        i0.ɵɵelementStart(20, \"div\", 9);\n        i0.ɵɵelementStart(21, \"div\", 12);\n        i0.ɵɵelement(22, \"input\", 13);\n        i0.ɵɵelementStart(23, \"label\", 14);\n        i0.ɵɵtext(24, \"Remember Me\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 8);\n        i0.ɵɵelementStart(26, \"button\", 15);\n        i0.ɵɵtext(27, \"Sign In\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"div\", 8);\n        i0.ɵɵelement(29, \"hr\");\n        i0.ɵɵelementStart(30, \"div\", 16);\n        i0.ɵɵelementStart(31, \"span\", 17);\n        i0.ɵɵtext(32, \"Or\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"div\", 18);\n        i0.ɵɵelementStart(34, \"a\", 19);\n        i0.ɵɵelement(35, \"i\", 20);\n        i0.ɵɵelement(36, \"i\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"a\", 21);\n        i0.ɵɵelement(38, \"i\", 22);\n        i0.ɵɵelement(39, \"i\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"a\", 23);\n        i0.ɵɵelement(41, \"i\", 24);\n        i0.ɵɵelement(42, \"i\", 24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n    } }, styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi1zZWN0aW9uLmNvbXBvbmVudC5zY3NzIn0= */\"] });\n"]},"metadata":{},"sourceType":"module"}