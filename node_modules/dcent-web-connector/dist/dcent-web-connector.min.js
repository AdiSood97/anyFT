!function(e,t){for(var n in t)e[n]=t[n]}(this,function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";const{coinType:o,coinGroup:r,coinName:a,bitcoinTxType:i,klaytnTxType:s,xrpTxType:c}=n(1),{state:p}=n(2),{config:u}=n(3),d=n(4),T=n(5),E=n(6),l={};var f=u.timeOutMs;l.messageRequestIdx=0,l.messageResponsetIdx=0,l.popupWindow=void 0,l.popupTab=void 0,l.iframe=void 0,l.dcentWebDeferred=function(){let e,t;const n=new Promise((async function(n,o){e=n,t=o}));return{resolve:e,reject:t,promise:n}},l.dcentWebPromise=l.dcentWebDeferred(),l.dcentException=function(e,t){return{header:{version:"1.0",request_from:"dcent-web",status:"error"},body:{error:{code:e,message:t}}}};let C=null;l.setConnectionListener=function(e){C=e};const m=()=>{l.popupWindow&&(l.popupWindow=void 0,l.popupTab&&(l.popupTab=void 0),l.dcentWebPromise=l.dcentWebDeferred(),_.emit("popUpClosed"),_.removeAllListeners())},w=e=>({header:{version:"1.0",response_from:"api",status:"error"},body:{error:{code:"pop-up_blocked",message:e}}});l.dcentPopupWindow=async function(){try{d.debug("dcent.dcentPopupWindow  called ");if("undefined"!=typeof chrome&&chrome.runtime&&void 0!==chrome.runtime.onConnect){d.debug("create iframe");const e=document.getElementById("dcent-connect");return e&&e.parentNode.removeChild(e),l.iframe=document.createElement("iframe"),l.iframe.src=u.popUpUrl+"/iframe",l.iframe.id="dcent-connect",document.body.appendChild(l.iframe),l.popupWindow=l.iframe.contentWindow,l.popupTab&&(l.popupTab=void 0),null}if(l.popupWindow=window.open("","_blank"),!l.popupWindow)return w("window is not open");d.debug("window.open create dcent.popupWindow opener = ",l.popupWindow.opener),l.popupWindow.location.href=u.popUpUrl}catch(e){return w(e||e.message)}return null},l._call=function(e,t){y({idx:e,event:"BridgeRequest",type:"json",payload:t})};const _=new E.EventEmitter,h=e=>{let t="";return t="Dcent.Event."+e,t};l.call=async function(e){const t=l.messageRequestIdx++;return new Promise(async(n,o)=>{if(!l.popupWindow||l.popupWindow.closed){var r=await l.dcentPopupWindow();null!==r&&o(r)}l.dcentWebPromise.promise.then((async function(){l._call(t,e)}));const a=()=>{o(l.dcentException("pop-up_closed","Pop-up windows has been closed"))},i=setTimeout(()=>{_.removeListener(h(t),s),_.removeListener("popUpClosed",a),o(l.dcentException("time_out","The function execution time has expired"))},f),s=e=>{clearTimeout(i),_.removeListener("popUpClosed",a),d.debug("eventEmitter - emit",e);try{"success"===e.data.payload.header.status||"transaction"===e.data.payload.body.command&&"user_cancel"===e.data.payload.body.error.code?n(e.data.payload):o(e.data.payload)}catch(e){}};_.once("popUpClosed",a),_.once(h(t),s)})};l.messageReceive=function(e){if("BridgeEvent"!==e.data.event&&"BridgeResponse"!==e.data.event||d.debug("messageReceive",e),"BridgeEvent"===e.data.event&&"data"===e.data.type){if("dcent-iframe-init"===e.data.payload)return l.eventSource=e.source,void(()=>{if(d.debug("createDcentTab"),"undefined"==typeof chrome)return;if(void 0!==l.popupTab&&null!==l.popupTab)return;const e=u.popUpUrl+"?_from_extension=true";chrome.windows.getCurrent(null,(function(t){"normal"!==t.type?chrome.windows.create({url:e},(function(e){chrome.tabs.query({windowId:e.id,active:!0},(function(e){d.debug("create window and tab"),l.popupTab=e[0]}))})):chrome.tabs.query({currentWindow:!0,active:!0},(function(t){let n=0;t.length>0&&(n=t[0].index+1),chrome.tabs.create({url:e,index:n},(function(e){l.popupTab=e}))}))}))})();if("popup-success"===e.data.payload)return void l.dcentWebPromise.resolve();if("popup-close"===e.data.payload)return void m();if(("dcent-connected"===e.data.payload||"dcent-disconnected"===e.data.payload)&&C)return void C(e.data.payload)}if("BridgeResponse"!==e.data.event||"json"!==e.data.type)return;const t=e.data.idx||l.messageResponsetIdx++;_.emit(h(t),e)},l.popupWindowClose=function(){if("undefined"!=typeof chrome&&chrome.runtime&&void 0!==chrome.runtime.onConnect){l.popupTab&&l.popupTab.id&&chrome.tabs.remove(l.popupTab.id,()=>{l.popupWindow=void 0,l.popupTab=void 0});const e=document.getElementById("dcent-connect");e&&e.parentNode.removeChild(e),m()}else y({event:"BridgeEvent",type:"data",payload:"popup-close"})};const y=e=>{if(l.popupWindow)try{let t="*";l.iframe&&(t=l.iframe.src.match(/^.+\:\/\/[^\/]+/)[0]),l.popupWindow.postMessage(e,t)}catch(e){}};"undefined"!=typeof window&&(window.addEventListener("message",l.messageReceive,!1),window.addEventListener("beforeunload",l.popupWindowClose));const L=(e,t)=>{if("numberString"===e){if("string"!=typeof t)throw l.dcentException("param_error","Invaild Parameter - "+t);if(-1===t.indexOf("0x",0)){if(/^[0-9]+$/.test(t))return t}else if(0===t.indexOf("0x",0)&&(e=>!!/^(0x)?[0-9a-f]+$/.test(e.toLowerCase()))(t))return t;throw l.dcentException("param_error","Invaild Parameter - - - "+t)}};function v(e){return!(!e||!/^[a-zA-Z\d.!#$%&\+\-_]{2,14}$/.test(e))}function g(e){if(!e)return!1;switch(e.toLowerCase()){case r.BITCOIN.toLowerCase():case r.BITCOIN_TESTNET.toLowerCase():case r.MONACOIN.toLowerCase():case r.MONACOIN_TESTNET.toLowerCase():case r.ERC20.toLowerCase():case r.ERC20_KOVAN.toLowerCase():case r.ETHEREUM.toLowerCase():case r.ETHEREUM_KOVAN.toLowerCase():case r.RRC20.toLowerCase():case r.RRC20_TESTNET.toLowerCase():case r.RSK.toLowerCase():case r.RSK_TESTNET.toLowerCase():case r.KLAYTN.toLowerCase():case r.KLAY_BAOBAB.toLowerCase():case r.KLAYTN_KCT.toLowerCase():case r.KCT_BAOBAB.toLowerCase():case r.RIPPLE.toLowerCase():case r.RIPPLE_TESTNET.toLowerCase():case r.XDC.toLowerCase():case r.XDC_APOTHEM.toLowerCase():case r.XRC20.toLowerCase():case r.XRC20_APOTHEM.toLowerCase():return!0;default:return!1}}function A(e){if(!e)return!1;switch(e.toLowerCase()){case r.ERC20.toLowerCase():case r.ERC20_KOVAN.toLowerCase():case o.RRC20.toLowerCase():case o.RRC20_TESTNET.toLowerCase():case o.KLAYTN_KCT.toLowerCase():case o.KCT_BAOBAB.toLowerCase():case r.XRC20.toLowerCase():case r.XRC20_APOTHEM.toLowerCase():return!0;default:return!1}}l.info=async function(){return await l.call({method:"info"})},l.setTimeOutMs=function(e){if("number"!=typeof e)throw l.dcentException("param_error","timeOutMs is not Number Type");f=e},l.getDeviceInfo=async function(){return await l.call({method:"getDeviceInfo"})},l.setLabel=async function(e){if(!v(e))throw l.dcentException("param_error","Invalid Label : "+e);return await l.call({method:"setLabel",params:{label:e}})},l.syncAccount=async function(e){for(var t=0;t<e.length;t+=1){const n=e[t];if(!g(n.coin_group))throw l.dcentException("coin_group_error","not supported coin group");if(!A(n.coin_group)&&!g(n.coin_name))throw l.dcentException("coin_name_error","not supported coin name");if(!v(n.label))throw l.dcentException("param_error","Invalid Label - "+n.label)}return await l.call({method:"syncAccount",params:{accountInfos:e}})},l.getAccountInfo=async function(){return await l.call({method:"getAccountInfo"})},l.selectAddress=async function(e){if(!Array.isArray(e))throw l.dcentException("param_error","addresses is not array");return await l.call({method:"selectAddress",params:{addresses:e}})},l.getAddress=async function(e,t){if(!function(e){if(!e)return!1;switch(e.toLowerCase()){case o.BITCOIN.toLowerCase():case o.BITCOIN_TESTNET.toLowerCase():case o.MONACOIN.toLowerCase():case o.MONACOIN_TESTNET.toLowerCase():case o.ETHEREUM.toLowerCase():case o.ETHEREUM_KOVAN.toLowerCase():case o.ERC20.toLowerCase():case o.ERC20_KOVAN.toLowerCase():case o.RRC20.toLowerCase():case o.RRC20_TESTNET.toLowerCase():case o.RSK.toLowerCase():case o.RSK_TESTNET.toLowerCase():case o.KLAYTN.toLowerCase():case o.KLAY_BAOBAB.toLowerCase():case o.KLAYTN_KCT.toLowerCase():case o.KCT_BAOBAB.toLowerCase():case o.RIPPLE.toLowerCase():case o.RIPPLE_TESTNET.toLowerCase():case o.XDC.toLowerCase():case o.XDC_APOTHEM.toLowerCase():case o.XRC20.toLowerCase():case o.XRC20_APOTHEM.toLowerCase():return!0;default:return!1}}(e))throw l.dcentException("coin_type_error","not supported coin type");return await l.call({method:"getAddress",params:{coinType:e,path:t}})},l.getXPUB=async function(e,t){return await l.call({method:"getXPUB",params:{key:e,bip32name:t}})},l.getBitcoinTransactionObject=function(e){if(!function(e){switch(e.toLowerCase()){case o.BITCOIN.toLowerCase():case o.BITCOIN_TESTNET.toLowerCase():case o.MONACOIN.toLowerCase():case o.MONACOIN_TESTNET.toLowerCase():return!0;default:return!1}}(e))throw l.dcentException("coin_type_error","not supported coin type");const t={request:{header:{version:"1.0",request_to:""},body:{command:"",parameter:{}}}};return t.request.header.request_to=e,t.request.body.command="transaction",t.request.body.parameter={},t.request.body.parameter.version=1,t.request.body.parameter.locktime=0,t},l.addBitcoinTransactionInput=function(e,t,n,o,r){const a=e.request.body.parameter;return a.input=a.input||[],a.input.push({prev_tx:t,utxo_idx:n,type:o,key:r}),e},l.addBitcoinTransactionOutput=function(e,t,n,o){const r=e.request.body.parameter;return r.output=r.output||[],r.output.push({type:t,value:n,to:o}),e},l.getBitcoinSignedTransaction=async function(e){if(null==e)throw l.dcentException("param_error","transaction object is undefined or null");return d.debug("transaction : ",JSON.stringify(e)),await l.call({method:"getBitcoinSignedTransaction",params:{transaction:e}})},l.getEthereumSignedTransaction=async function(e,t,n,r,a,i,s,c,p){try{t=L("numberString",t),n=L("numberString",n),r=L("numberString",r),i=L("numberString",i)}catch(e){throw e}if("number"!=typeof p)throw l.dcentException("param_error","Invaild Parameter");switch(e.toLowerCase()){case o.ETHEREUM.toLowerCase():case o.ETHEREUM_KOVAN.toLowerCase():case o.RSK.toLowerCase():case o.RSK_TESTNET.toLowerCase():break;case o.XDC.toLowerCase():case o.XDC_APOTHEM.toLowerCase():a=T(a);break;default:throw l.dcentException("coin_type_error","not supported coin type")}return await l.call({method:"getEthereumSignedTransaction",params:{coinType:e,nonce:t,gas_price:n,gas_limit:r,to:a,value:i,data:s,key:c,chain_id:p}})},l.getTokenSignedTransaction=async function(e,t,n,a,i,s,c){try{t=L("numberString",t),n=L("numberString",n),a=L("numberString",a),c.value=L("numberString",c.value)}catch(e){throw e}if("number"!=typeof s||"number"!=typeof c.decimals)throw l.dcentException("param_error","Invaild Parameter");switch(e.toLowerCase()){case o.ERC20.toLowerCase():case o.ERC20_KOVAN.toLowerCase():case o.RRC20.toLowerCase():case o.RRC20_TESTNET.toLowerCase():case r.KLAYTN_KCT.toLowerCase():case r.KCT_BAOBAB.toLowerCase():break;case o.XRC20.toLowerCase():case o.XRC20_APOTHEM.toLowerCase():c.to=T(c.to),c.address=T(c.address);break;default:throw l.dcentException("coin_type_error","not supported token type")}return await l.call({method:"getTokenSignedTransaction",params:{token:e,nonce:t,gas_price:n,gas_limit:a,key:i,chain_id:s,contract:c}})},l.getEthereumSignedMessage=async function(e,t){return await l.call({method:"getEthereumSignedMessage",params:{message:e,key:t}})},l.getKlaytnSignedTransaction=async function(e,t,n,r,a,i,c,p,u,d,T,E,f){try{t=L("numberString",t),n=L("numberString",n),r=L("numberString",r),i=L("numberString",i),f&&(f.decimals=L("numberString",f.decimals))}catch(e){throw e}if("number"!=typeof u)throw l.dcentException("param_error","Invaild Parameter chainId - "+u);switch(e.toLowerCase()){case o.KLAYTN.toLowerCase():case o.KLAY_BAOBAB.toLowerCase():e=o.KLAYTN;break;case o.KLAYTN_KCT.toLowerCase():case o.KCT_BAOBAB.toLowerCase():e=o.KLAYTN_KCT;break;default:throw l.dcentException("coin_type_error","not supported coin type")}if(d||(d=s.LEGACY),!T){const t=await this.getAddress(e,p);t.body.parameter.address&&(T=t.body.parameter.address)}return await l.call({method:"getKlaytnSignedTransaction",params:{coinType:e,nonce:t,gas_price:n,gas_limit:r,to:a,value:i,data:c,key:p,chain_id:u,tx_type:d,from:T,fee_ratio:E,contract:f}})},l.getSignedMessage=async function(e,t,n){return await l.call({method:"getSignedMessage",params:{coinType:e,key:t,message:n}})},l.getSignedData=async function(e,t){return await l.call({method:"getSignedData",params:{key:e,message:t}})},l.getXrpSignedTransaction=async function(e,t){try{if("string"!=typeof e.Account||"string"!=typeof e.TransactionType||"string"!=typeof e.Fee||"number"!=typeof e.Sequence)throw l.dcentException("param_error","TypeError: Required field type is not matched");if(void 0===c[e.TransactionType])throw l.dcentException("param_error","Invalid Transaction Type: "+e.TransactionType);L("numberString",e.Fee)}catch(e){throw e}return await l.call({method:"getXrpSignedTransaction",params:{key:t,transaction:e}})},l.state=p,l.coinType=o,l.coinGroup=r,l.coinName=a,l.bitcoinTxType=i,l.klaytnTxType=s,l.xrpTxType=c;const N=l;e.exports=N,"undefined"!=typeof window&&(window.DcentWebConnector=l,window.DcentWebConnector.state=p,window.DcentWebConnector.coinType=o,window.DcentWebConnector.coinGroup=r,window.DcentWebConnector.coinName=a,window.DcentWebConnector.bitcoinTxType=i,window.DcentWebConnector.klaytnTxType=s)},function(e,t,n){"use strict";e.exports={coinType:{BITCOIN:"bitcoin",BITCOIN_TESTNET:"bitcoin-testnet",ERC20:"erc20",ERC20_KOVAN:"erc20",ETHEREUM:"ethereum",ETHEREUM_KOVAN:"ethereum",KLAYTN:"klaytn",KLAY_BAOBAB:"klaytn-testnet",KLAYTN_KCT:"klaytn-erc20",KCT_BAOBAB:"krc20-testnet",MONACOIN:"monacoin",MONACOIN_TESTNET:"monacoin-testnet",RIPPLE:"ripple",RIPPLE_TESTNET:"",RRC20:"rrc20",RRC20_TESTNET:"rrc20",RSK:"rsk",RSK_TESTNET:"rsk-testnet",XDC:"xinfin",XRC20:"xrc20",XDC_APOTHEM:"xinfin",XRC20_APOTHEM:"xrc20"},coinGroup:{BITCOIN:"BITCOIN",BITCOIN_TESTNET:"BTC-TESTNET",ERC20:"ERC20",ERC20_KOVAN:"ERC20_KOVAN",ETHEREUM:"ETHEREUM",ETHEREUM_KOVAN:"ETH-KOVAN",KLAYTN:"KLAYTN",KLAY_BAOBAB:"KLAYTN-TESTNET",KLAYTN_KCT:"KLAYTN-ERC20",KCT_BAOBAB:"KRC20-TESTNET",MONACOIN:"MONACOIN",MONACOIN_TESTNET:"MONA-TESTNET",RIPPLE:"RIPPLE",RIPPLE_TESTNET:"XRP-TESTNET",RRC20:"RRC20",RRC20_TESTNET:"RRC20-TESTNET",RSK:"RSK",RSK_TESTNET:"RSK-TESTNET",XDC:"XINFIN",XRC20:"XRC20",XDC_APOTHEM:"XDC-APOTHEM",XRC20_APOTHEM:"XRC20-APOTHEM"},coinName:{BITCOIN:"BITCOIN",BITCOIN_TESTNET:"BTC-TESTNET",ERC20:"",ERC20_KOVAN:"",ETHEREUM:"ETHEREUM",ETHEREUM_KOVAN:"ETH-KOVAN",KLAYTN:"KLAYTN",KLAY_BAOBAB:"KLAYTN-TESTNET",KLAYTN_KCT:"",KCT_BAOBAB:"",MONACOIN:"MONACOIN",MONACOIN_TESTNET:"MONA-TESTNET",RIPPLE:"RIPPLE",RIPPLE_TESTNET:"XRP-TESTNET",RRC20:"",RRC20_TESTNET:"",RSK:"RSK",RSK_TESTNET:"RSK-TESTNET",XDC:"XINFIN",XRC20:"",XDC_APOTHEM:"XDC-APOTHEM",XRC20_APOTHEM:""},bitcoinTxType:{change:"change",p2pk:"p2pk",p2pkh:"p2pkh",p2sh:"p2sh",multisig:"multisig",p2wpkh:"p2wpkh",p2wsh:"p2wsh"},klaytnTxType:{LEGACY:255,FEE_PAYER:238,VALUE_TRANSFER:8,FEE_DELEGATED_VALUE_TRANSFER:9,FEE_DELEGATED_VALUE_TRANSFER_WITH_RATIO:10,VALUE_TRANSFER_MEMO:16,FEE_DELEGATED_VALUE_TRANSFER_MEMO:17,FEE_DELEGATED_VALUE_TRANSFER_MEMO_WITH_RATIO:18,SMART_CONTRACT_DEPLOY:40,FEE_DELEGATED_SMART_CONTRACT_DEPLOY:41,FEE_DELEGATED_SMART_CONTRACT_DEPLOY_WITH_RATIO:42,SMART_CONTRACT_EXECUTION:48,FEE_DELEGATED_SMART_CONTRACT_EXECUTION:49,FEE_DELEGATED_SMART_CONTRACT_EXECUTION_WITH_RATIO:50,CANCEL:56,FEE_DELEGATED_CANCEL:57,FEE_DELEGATED_CANCEL_WITH_RATIO:58},xrpTxType:{AccountSet:"AccountSet",AccountDelete:"AccountDelete",CheckCancel:"CheckCancel",CheckCash:"CheckCash",CheckCreate:"CheckCreate",DepositPreauth:"DepositPreauth",EscrowCancel:"EscrowCancel",EscrowCreate:"EscrowCreate",EscrowFinish:"EscrowFinish",OfferCancel:"OfferCancel",OfferCreate:"OfferCreate",Payment:"Payment",PaymentChannelClaim:"PaymentChannelClaim",PaymentChannelCreate:"PaymentChannelCreate",PaymentChannelFund:"PaymentChannelFund",SetRegularKey:"SetRegularKey",SignerListSet:"SignerListSet",TrustSet:"TrustSet"}}},function(e,t){e.exports={state:{CONNECTED:"dcent-connected",DISCONNECTED:"dcent-disconnected"}}},function(e,t,n){"use strict";e.exports={config:{timeOutMs:6e4,popUpUrl:"https://bridge.dcentwallet.com/v2"}}},function(e,t){let n=console.log.bind(console,"[INFO] ");let o=console.log.bind(console,"[DEBUG] ");o=()=>{};const r=console.warn.bind(console,"[WARN] "),a=console.error.bind(console,"[ERROR] "),i=console.warn.bind(console,"[TEST] ");e.exports={test:i,info:n,debug:o,warn:r,error:a,NOT_IMPLEMENTED:function(){var e=(e=>{if(e.indexOf("at ")<0)return e;var t=e.indexOf("at "),n=e.slice(t+3,e.length).split(" "),o=n[0],r=n[1].split(/\\|\//);return r[r.length-1].replace(")","")+":"+o})((new Error).stack.toString().split(/\r\n|\n/)[2]);throw console.log("[NOT_IMPLEMENTED]"+e),new Error("NOT_IMPLEMENTED")}}},function(e,t){e.exports=e=>(e.startsWith("0x")||(e=e.startsWith("xdc")?"0x"+e.substring(3):"0x"+e.address),e)},function(e,t,n){"use strict";var o,r="object"==typeof Reflect?Reflect:null,a=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};o=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function p(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,o){var r,a,i,s;if(p(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),i=a[t]),void 0===i)i=a[t]=n,++e._eventsCount;else if("function"==typeof i?i=a[t]=o?[n,i]:[i,n]:o?i.unshift(n):i.push(n),(r=u(e))>0&&i.length>r&&!i.warned){i.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=i.length,s=c,console&&console.warn&&console.warn(s)}return e}function T(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(e,t,n){var o={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=T.bind(o);return r.listener=n,o.wrapFn=r,r}function l(e,t,n){var o=e._events;if(void 0===o)return[];var r=o[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):C(r,r.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function C(e,t){for(var n=new Array(t),o=0;o<t;++o)n[o]=e[o];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,r=this._events;if(void 0!==r)o=o&&void 0===r.error;else if(!o)return!1;if(o){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)a(c,this,t);else{var p=c.length,u=C(c,p);for(n=0;n<p;++n)a(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return p(t),this.on(e,E(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return p(t),this.prependListener(e,E(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,o,r,a,i;if(p(t),void 0===(o=this._events))return this;if(void 0===(n=o[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){i=n[a].listener,r=a;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(o[e]=n[0]),void 0!==o.removeListener&&this.emit("removeListener",e,i||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,o;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,a=Object.keys(n);for(o=0;o<a.length;++o)"removeListener"!==(r=a[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},s.prototype.listeners=function(e){return l(this,e,!0)},s.prototype.rawListeners=function(e){return l(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}}]));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy90eXBlL2RjZW50LXdlYi10eXBlLmpzIiwid2VicGFjazovLy8uL3NyYy90eXBlL2RjZW50LXN0YXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb25mL2RjZW50LXdlYi1jb25mLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9sb2cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL3hkYy1wcmVmaXgtY29udmVydGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY29pblR5cGUiLCJkY2VudENvaW5UeXBlIiwiY29pbkdyb3VwIiwiZGNlbnRDb2luR3JvdXAiLCJjb2luTmFtZSIsImRjZW50Q29pbk5hbWUiLCJiaXRjb2luVHhUeXBlIiwiZGNlbnRCaXRjb2luVHhUeXBlIiwia2xheXRuVHhUeXBlIiwiZGNlbnRLbGF5dG5UeFR5cGUiLCJ4cnBUeFR5cGUiLCJkY2VudFhycFR4VHlwZSIsInJlcXVpcmUiLCJzdGF0ZSIsImRjZW50U3RhdGUiLCJjb25maWciLCJkY2VudENvbmZpZyIsIkxPRyIsIlhEQ1ByZWZpeENvbnZlcnRlciIsIkV2ZW50IiwiZGNlbnQiLCJkY2VudENhbGxUaW1lT3V0TXMiLCJ0aW1lT3V0TXMiLCJtZXNzYWdlUmVxdWVzdElkeCIsIm1lc3NhZ2VSZXNwb25zZXRJZHgiLCJwb3B1cFdpbmRvdyIsInVuZGVmaW5lZCIsInBvcHVwVGFiIiwiaWZyYW1lIiwiZGNlbnRXZWJEZWZlcnJlZCIsImxvY2FsUmVzb2x2ZSIsImxvY2FsUmVqZWN0IiwicHJvbWlzZSIsIlByb21pc2UiLCJhc3luYyIsInJlc29sdmUiLCJyZWplY3QiLCJkY2VudFdlYlByb21pc2UiLCJkY2VudEV4Y2VwdGlvbiIsImNvZGUiLCJtZXNzYWdlIiwiY29ubmVjdGlvbkxpc3RlbmVyIiwic2V0Q29ubmVjdGlvbkxpc3RlbmVyIiwibGlzdGVuZXIiLCJjbGVhclBvcHVwIiwiZWUiLCJlbWl0IiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicG9wdXBFcnJvckV4Y2VwdGlvbiIsImhlYWRlciIsInZlcnNpb24iLCJyZXNwb25zZV9mcm9tIiwic3RhdHVzIiwiYm9keSIsImVycm9yIiwiZGNlbnRQb3B1cFdpbmRvdyIsImRlYnVnIiwiY2hyb21lIiwicnVudGltZSIsIm9uQ29ubmVjdCIsImRjZW50SWZyYW1lIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJwb3BVcFVybCIsImlkIiwiYXBwZW5kQ2hpbGQiLCJjb250ZW50V2luZG93Iiwid2luZG93Iiwib3BlbiIsIm9wZW5lciIsImxvY2F0aW9uIiwiaHJlZiIsImUiLCJfY2FsbCIsImlkeCIsInBhcmFtcyIsInBvc3RNZXNzYWdlIiwiZXZlbnQiLCJ0eXBlIiwicGF5bG9hZCIsIkV2ZW50RW1pdHRlciIsImdldEV2ZW50TmFtZSIsImV2ZW50TmFtZSIsImNsb3NlZCIsInJlc3VsdCIsInRoZW4iLCJwb3BVcENsb3NlZExpc3RlbmVyIiwidGltZXIiLCJzZXRUaW1lb3V0IiwicmVtb3ZlTGlzdGVuZXIiLCJldmVudEVtaXRMaXN0ZW5lciIsIm1lc3NhZ2VFdmVudCIsImNsZWFyVGltZW91dCIsImRhdGEiLCJjb21tYW5kIiwib25jZSIsIm1lc3NhZ2VSZWNlaXZlIiwiZXZlbnRTb3VyY2UiLCJzb3VyY2UiLCJ1cmwiLCJ3aW5kb3dzIiwiZ2V0Q3VycmVudCIsImN1cnJlbnRXaW5kb3ciLCJuZXdXaW5kb3ciLCJ0YWJzIiwicXVlcnkiLCJ3aW5kb3dJZCIsImFjdGl2ZSIsImluZGV4IiwibGVuZ3RoIiwidGFiIiwiY3JlYXRlRGNlbnRUYWIiLCJwb3B1cFdpbmRvd0Nsb3NlIiwicmVtb3ZlIiwib3JpZ2luIiwibWF0Y2giLCJhZGRFdmVudExpc3RlbmVyIiwiY2hlY2tQYXJhbWV0ZXIiLCJwYXJhbSIsImluZGV4T2YiLCJ0ZXN0Iiwic3RyIiwidG9Mb3dlckNhc2UiLCJpc0hleE51bWJlclN0cmluZyIsImlzQXZhbGlhYmxlTGFiZWwiLCJsYWJlbCIsImlzQXZhbGlhYmxlQ29pbkdyb3VwIiwiQklUQ09JTiIsIkJJVENPSU5fVEVTVE5FVCIsIk1PTkFDT0lOIiwiTU9OQUNPSU5fVEVTVE5FVCIsIkVSQzIwIiwiRVJDMjBfS09WQU4iLCJFVEhFUkVVTSIsIkVUSEVSRVVNX0tPVkFOIiwiUlJDMjAiLCJSUkMyMF9URVNUTkVUIiwiUlNLIiwiUlNLX1RFU1RORVQiLCJLTEFZVE4iLCJLTEFZX0JBT0JBQiIsIktMQVlUTl9LQ1QiLCJLQ1RfQkFPQkFCIiwiUklQUExFIiwiUklQUExFX1RFU1RORVQiLCJYREMiLCJYRENfQVBPVEhFTSIsIlhSQzIwIiwiWFJDMjBfQVBPVEhFTSIsImlzVG9rZW5UeXBlIiwiaW5mbyIsIm1ldGhvZCIsInNldFRpbWVPdXRNcyIsImdldERldmljZUluZm8iLCJzZXRMYWJlbCIsInN5bmNBY2NvdW50IiwiYWNjb3VudEluZm9zIiwiYWNjb3VudCIsImNvaW5fZ3JvdXAiLCJjb2luX25hbWUiLCJnZXRBY2NvdW50SW5mbyIsInNlbGVjdEFkZHJlc3MiLCJhZGRyZXNzZXMiLCJBcnJheSIsImlzQXJyYXkiLCJnZXRBZGRyZXNzIiwicGF0aCIsImlzQXZhbGlhYmxlQ29pblR5cGUiLCJnZXRYUFVCIiwiYmlwMzJuYW1lIiwiZ2V0Qml0Y29pblRyYW5zYWN0aW9uT2JqZWN0IiwiaXNCaXRjb2luVHhDb2luVHlwZSIsInR4T2JqZWN0IiwicmVxdWVzdCIsInJlcXVlc3RfdG8iLCJwYXJhbWV0ZXIiLCJsb2NrdGltZSIsImFkZEJpdGNvaW5UcmFuc2FjdGlvbklucHV0IiwidHJhbnNhY3Rpb24iLCJwcmV2VHgiLCJ1dHhvSWR4IiwiaW5wdXQiLCJwdXNoIiwicHJldl90eCIsInV0eG9faWR4IiwiYWRkQml0Y29pblRyYW5zYWN0aW9uT3V0cHV0IiwidG8iLCJvdXRwdXQiLCJnZXRCaXRjb2luU2lnbmVkVHJhbnNhY3Rpb24iLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0RXRoZXJldW1TaWduZWRUcmFuc2FjdGlvbiIsIm5vbmNlIiwiZ2FzUHJpY2UiLCJnYXNMaW1pdCIsImNoYWluSWQiLCJnYXNfcHJpY2UiLCJnYXNfbGltaXQiLCJjaGFpbl9pZCIsImdldFRva2VuU2lnbmVkVHJhbnNhY3Rpb24iLCJ0b2tlbiIsImNvbnRyYWN0IiwiZGVjaW1hbHMiLCJhZGRyZXNzIiwiZ2V0RXRoZXJldW1TaWduZWRNZXNzYWdlIiwiZ2V0S2xheXRuU2lnbmVkVHJhbnNhY3Rpb24iLCJ0eFR5cGUiLCJmcm9tIiwiZmVlUmF0aW8iLCJMRUdBQ1kiLCJhZGRyZXNzUmVzcG9uc2UiLCJ0aGlzIiwidHhfdHlwZSIsImZlZV9yYXRpbyIsImdldFNpZ25lZE1lc3NhZ2UiLCJnZXRTaWduZWREYXRhIiwiZ2V0WHJwU2lnbmVkVHJhbnNhY3Rpb24iLCJBY2NvdW50IiwiVHJhbnNhY3Rpb25UeXBlIiwiRmVlIiwiU2VxdWVuY2UiLCJEY2VudFdlYkNvbm5lY3RvciIsImNoYW5nZSIsInAycGsiLCJwMnBraCIsInAyc2giLCJtdWx0aXNpZyIsInAyd3BraCIsInAyd3NoIiwiRkVFX1BBWUVSIiwiVkFMVUVfVFJBTlNGRVIiLCJGRUVfREVMRUdBVEVEX1ZBTFVFX1RSQU5TRkVSIiwiRkVFX0RFTEVHQVRFRF9WQUxVRV9UUkFOU0ZFUl9XSVRIX1JBVElPIiwiVkFMVUVfVFJBTlNGRVJfTUVNTyIsIkZFRV9ERUxFR0FURURfVkFMVUVfVFJBTlNGRVJfTUVNTyIsIkZFRV9ERUxFR0FURURfVkFMVUVfVFJBTlNGRVJfTUVNT19XSVRIX1JBVElPIiwiU01BUlRfQ09OVFJBQ1RfREVQTE9ZIiwiRkVFX0RFTEVHQVRFRF9TTUFSVF9DT05UUkFDVF9ERVBMT1kiLCJGRUVfREVMRUdBVEVEX1NNQVJUX0NPTlRSQUNUX0RFUExPWV9XSVRIX1JBVElPIiwiU01BUlRfQ09OVFJBQ1RfRVhFQ1VUSU9OIiwiRkVFX0RFTEVHQVRFRF9TTUFSVF9DT05UUkFDVF9FWEVDVVRJT04iLCJGRUVfREVMRUdBVEVEX1NNQVJUX0NPTlRSQUNUX0VYRUNVVElPTl9XSVRIX1JBVElPIiwiQ0FOQ0VMIiwiRkVFX0RFTEVHQVRFRF9DQU5DRUwiLCJGRUVfREVMRUdBVEVEX0NBTkNFTF9XSVRIX1JBVElPIiwiQWNjb3VudFNldCIsIkFjY291bnREZWxldGUiLCJDaGVja0NhbmNlbCIsIkNoZWNrQ2FzaCIsIkNoZWNrQ3JlYXRlIiwiRGVwb3NpdFByZWF1dGgiLCJFc2Nyb3dDYW5jZWwiLCJFc2Nyb3dDcmVhdGUiLCJFc2Nyb3dGaW5pc2giLCJPZmZlckNhbmNlbCIsIk9mZmVyQ3JlYXRlIiwiUGF5bWVudCIsIlBheW1lbnRDaGFubmVsQ2xhaW0iLCJQYXltZW50Q2hhbm5lbENyZWF0ZSIsIlBheW1lbnRDaGFubmVsRnVuZCIsIlNldFJlZ3VsYXJLZXkiLCJTaWduZXJMaXN0U2V0IiwiVHJ1c3RTZXQiLCJDT05ORUNURUQiLCJESVNDT05ORUNURUQiLCJjb25zb2xlIiwibG9nIiwid2FybiIsIk5PVF9JTVBMRU1FTlRFRCIsImNsZWFuIiwibGluZSIsImJsb2NrIiwic2xpY2UiLCJzcGxpdCIsImZ1bmNOYW1lIiwicGF0aEFycmF5IiwicmVwbGFjZSIsIm5vcm1hbGl6ZUNhbGxlckxpbmUiLCJFcnJvciIsInN0YWNrIiwidG9TdHJpbmciLCJzdGFydHNXaXRoIiwic3Vic3RyaW5nIiwiUmVmbGVjdE93bktleXMiLCJSIiwiUmVmbGVjdCIsIlJlZmxlY3RBcHBseSIsImFwcGx5IiwidGFyZ2V0IiwicmVjZWl2ZXIiLCJhcmdzIiwiRnVuY3Rpb24iLCJvd25LZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImNvbmNhdCIsIk51bWJlcklzTmFOIiwiTnVtYmVyIiwiaXNOYU4iLCJpbml0IiwiX2V2ZW50cyIsIl9ldmVudHNDb3VudCIsIl9tYXhMaXN0ZW5lcnMiLCJkZWZhdWx0TWF4TGlzdGVuZXJzIiwiY2hlY2tMaXN0ZW5lciIsIlR5cGVFcnJvciIsIl9nZXRNYXhMaXN0ZW5lcnMiLCJ0aGF0IiwiX2FkZExpc3RlbmVyIiwicHJlcGVuZCIsImV2ZW50cyIsImV4aXN0aW5nIiwid2FybmluZyIsIm5ld0xpc3RlbmVyIiwidW5zaGlmdCIsIndhcm5lZCIsInciLCJTdHJpbmciLCJlbWl0dGVyIiwiY291bnQiLCJvbmNlV3JhcHBlciIsImZpcmVkIiwid3JhcEZuIiwiYXJndW1lbnRzIiwiX29uY2VXcmFwIiwid3JhcHBlZCIsIl9saXN0ZW5lcnMiLCJ1bndyYXAiLCJldmxpc3RlbmVyIiwiYXJyIiwicmV0IiwidW53cmFwTGlzdGVuZXJzIiwiYXJyYXlDbG9uZSIsImxpc3RlbmVyQ291bnQiLCJjb3B5Iiwic2V0IiwiYXJnIiwiUmFuZ2VFcnJvciIsImdldFByb3RvdHlwZU9mIiwic2V0TWF4TGlzdGVuZXJzIiwiZ2V0TWF4TGlzdGVuZXJzIiwiZG9FcnJvciIsImVyIiwiZXJyIiwiY29udGV4dCIsImhhbmRsZXIiLCJsZW4iLCJsaXN0ZW5lcnMiLCJhZGRMaXN0ZW5lciIsIm9uIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3QiLCJwb3NpdGlvbiIsIm9yaWdpbmFsTGlzdGVuZXIiLCJzaGlmdCIsInBvcCIsInNwbGljZU9uZSIsIm9mZiIsImtleXMiLCJyYXdMaXN0ZW5lcnMiLCJldmVudE5hbWVzIl0sIm1hcHBpbmdzIjoiMERBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBMERmLE9BckRBRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFFTyxHQUN0QlgsT0FBT0MsZUFBZVUsRUFBSSxVQUFXLENBQUVULFlBQVksRUFBTUss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WCxFQUFVOU8sT0FBUyxFQUFHakosR0FBSyxFQUFHQSxJQUNyQ3VQLEtBQUsxSCxlQUFlWCxFQUFNNlEsRUFBVS9YLElBSXhDLE9BQU91UCxNQW9CYm5JLEVBQWF4RixVQUFVbVcsVUFBWSxTQUFtQjdRLEdBQ3BELE9BQU93UCxFQUFXbkgsS0FBTXJJLEdBQU0sSUFHaENFLEVBQWF4RixVQUFVZ1gsYUFBZSxTQUFzQjFSLEdBQzFELE9BQU93UCxFQUFXbkgsS0FBTXJJLEdBQU0sSUFHaENFLEVBQWE2UCxjQUFnQixTQUFTZixFQUFTaFAsR0FDN0MsTUFBcUMsbUJBQTFCZ1AsRUFBUWUsY0FDVmYsRUFBUWUsY0FBYy9QLEdBRXRCK1AsRUFBYzlXLEtBQUsrVixFQUFTaFAsSUFJdkNFLEVBQWF4RixVQUFVcVYsY0FBZ0JBLEVBaUJ2QzdQLEVBQWF4RixVQUFVaVgsV0FBYSxXQUNsQyxPQUFPdEosS0FBSzBGLGFBQWUsRUFBSWxCLEVBQWV4RSxLQUFLeUYsU0FBVyIsImZpbGUiOiJkY2VudC13ZWItY29ubmVjdG9yLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIid1c2Ugc3RyaWN0J1xyXG5cclxuY29uc3QgeyBcclxuICBjb2luVHlwZTogZGNlbnRDb2luVHlwZSwgXHJcbiAgY29pbkdyb3VwOiBkY2VudENvaW5Hcm91cCwgXHJcbiAgY29pbk5hbWU6IGRjZW50Q29pbk5hbWUsXHJcbiAgYml0Y29pblR4VHlwZTogZGNlbnRCaXRjb2luVHhUeXBlLFxyXG4gIGtsYXl0blR4VHlwZTogZGNlbnRLbGF5dG5UeFR5cGUsXHJcbiAgeHJwVHhUeXBlOiBkY2VudFhycFR4VHlwZSAgXHJcbn0gPSByZXF1aXJlKCcuL3R5cGUvZGNlbnQtd2ViLXR5cGUnKVxyXG5cclxuY29uc3Qge1xyXG4gIHN0YXRlOiBkY2VudFN0YXRlXHJcbn0gPSByZXF1aXJlKCcuL3R5cGUvZGNlbnQtc3RhdGUnKVxyXG5cclxuXHJcbmNvbnN0IHsgY29uZmlnOiBkY2VudENvbmZpZyB9ID0gcmVxdWlyZSgnLi9jb25mL2RjZW50LXdlYi1jb25mJylcclxuXHJcbmNvbnN0IExPRyA9IHJlcXVpcmUoJy4vdXRpbHMvbG9nJylcclxuY29uc3QgWERDUHJlZml4Q29udmVydGVyID0gcmVxdWlyZSgnLi91dGlscy94ZGMtcHJlZml4LWNvbnZlcnRlcicpXHJcbmNvbnN0IEV2ZW50ID0gcmVxdWlyZSgnZXZlbnRzJylcclxuXHJcbmNvbnN0IGRjZW50ID0ge31cclxuLy8gVGltZU91dCBEZWZhdWx0IFRpbWUgXHJcbnZhciBkY2VudENhbGxUaW1lT3V0TXMgPSBkY2VudENvbmZpZy50aW1lT3V0TXNcclxuXHJcbmRjZW50Lm1lc3NhZ2VSZXF1ZXN0SWR4ID0gMFxyXG5kY2VudC5tZXNzYWdlUmVzcG9uc2V0SWR4ID0gMFxyXG5cclxuZGNlbnQucG9wdXBXaW5kb3cgPSB1bmRlZmluZWRcclxuZGNlbnQucG9wdXBUYWIgPSB1bmRlZmluZWRcclxuZGNlbnQuaWZyYW1lID0gdW5kZWZpbmVkXHJcblxyXG5kY2VudC5kY2VudFdlYkRlZmVycmVkID0gZnVuY3Rpb24gKCkge1xyXG4gIGxldCBsb2NhbFJlc29sdmVcclxuICBsZXQgbG9jYWxSZWplY3RcclxuXHJcbiAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGFzeW5jIGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgIGxvY2FsUmVzb2x2ZSA9IHJlc29sdmVcclxuICAgIGxvY2FsUmVqZWN0ID0gcmVqZWN0XHJcbiAgfSlcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc29sdmU6IGxvY2FsUmVzb2x2ZSxcclxuICAgIHJlamVjdDogbG9jYWxSZWplY3QsXHJcbiAgICBwcm9taXNlXHJcbiAgfVxyXG59XHJcblxyXG5kY2VudC5kY2VudFdlYlByb21pc2UgPSBkY2VudC5kY2VudFdlYkRlZmVycmVkKClcclxuXHJcbmRjZW50LmRjZW50RXhjZXB0aW9uID0gZnVuY3Rpb24gKGNvZGUsIG1lc3NhZ2UpIHtcclxuICBjb25zdCBleGNlcHRpb24gPSB7XHJcbiAgICAnaGVhZGVyJzoge1xyXG4gICAgICAndmVyc2lvbic6ICcxLjAnLFxyXG4gICAgICAncmVxdWVzdF9mcm9tJzogJ2RjZW50LXdlYicsXHJcbiAgICAgICdzdGF0dXMnOiAnZXJyb3InXHJcbiAgICB9LFxyXG4gICAgJ2JvZHknOiB7XHJcbiAgICAgICdlcnJvcic6IHtcclxuICAgICAgICAnY29kZSc6IGNvZGUsXHJcbiAgICAgICAgJ21lc3NhZ2UnOiBtZXNzYWdlXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIGV4Y2VwdGlvblxyXG59XHJcblxyXG5sZXQgY29ubmVjdGlvbkxpc3RlbmVyID0gbnVsbFxyXG5cclxuZGNlbnQuc2V0Q29ubmVjdGlvbkxpc3RlbmVyID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XHJcbiAgY29ubmVjdGlvbkxpc3RlbmVyID0gbGlzdGVuZXJcclxufVxyXG5cclxuY29uc3QgY2xlYXJQb3B1cCA9ICgpID0+IHtcclxuICBpZiAoZGNlbnQucG9wdXBXaW5kb3cpIHtcclxuICAgIGRjZW50LnBvcHVwV2luZG93ID0gdW5kZWZpbmVkXHJcbiAgICBpZiAoZGNlbnQucG9wdXBUYWIpIHtcclxuICAgICAgZGNlbnQucG9wdXBUYWIgPSB1bmRlZmluZWRcclxuICAgIH1cclxuICAgIGRjZW50LmRjZW50V2ViUHJvbWlzZSA9IGRjZW50LmRjZW50V2ViRGVmZXJyZWQoKVxyXG4gICAgZWUuZW1pdCgncG9wVXBDbG9zZWQnKVxyXG4gICAgZWUucmVtb3ZlQWxsTGlzdGVuZXJzKClcclxuICB9XHJcbn1cclxuY29uc3QgcG9wdXBFcnJvckV4Y2VwdGlvbiA9IChtZXNzYWdlKSA9PiB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGhlYWRlcjoge1xyXG4gICAgICB2ZXJzaW9uOiAnMS4wJyxcclxuICAgICAgcmVzcG9uc2VfZnJvbTogJ2FwaScsXHJcbiAgICAgIHN0YXR1czogJ2Vycm9yJ1xyXG4gICAgfSxcclxuICAgIGJvZHk6IHtcclxuICAgICAgZXJyb3I6IHtcclxuICAgICAgICBjb2RlOiAncG9wLXVwX2Jsb2NrZWQnLFxyXG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZGNlbnQuZGNlbnRQb3B1cFdpbmRvdyA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICB0cnkge1xyXG4gICAgLy8gcG9wdXAgT3BlblxyXG4gICAgTE9HLmRlYnVnKCdkY2VudC5kY2VudFBvcHVwV2luZG93ICBjYWxsZWQgJylcclxuXHJcbiAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICBjb25zdCBleHRlbnNpb24gPSB0eXBlb2YgY2hyb21lICE9PSAndW5kZWZpbmVkJyAmJiBjaHJvbWUucnVudGltZSAmJiB0eXBlb2YgY2hyb21lLnJ1bnRpbWUub25Db25uZWN0ICE9PSAndW5kZWZpbmVkJ1xyXG4gICBpZiAoIWV4dGVuc2lvbikge1xyXG4gICAgICBkY2VudC5wb3B1cFdpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJylcclxuICAgICAgXHJcbiAgICAgIGlmIChkY2VudC5wb3B1cFdpbmRvdykge1xyXG4gICAgICAgIExPRy5kZWJ1Zygnd2luZG93Lm9wZW4gY3JlYXRlIGRjZW50LnBvcHVwV2luZG93IG9wZW5lciA9ICcsIGRjZW50LnBvcHVwV2luZG93Lm9wZW5lcikgXHJcbiAgICAgICAgZGNlbnQucG9wdXBXaW5kb3cubG9jYXRpb24uaHJlZiA9IGRjZW50Q29uZmlnLnBvcFVwVXJsXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHBvcHVwRXJyb3JFeGNlcHRpb24oJ3dpbmRvdyBpcyBub3Qgb3BlbicpXHJcbiAgICAgIH1cclxuICAgfSBlbHNlIHtcclxuICAgICAgICBMT0cuZGVidWcoJ2NyZWF0ZSBpZnJhbWUnKSBcclxuICAgICAgICBjb25zdCBkY2VudElmcmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkY2VudC1jb25uZWN0JylcclxuICAgICAgICBpZiAoZGNlbnRJZnJhbWUpIHtcclxuICAgICAgICAgIGRjZW50SWZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGNlbnRJZnJhbWUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRjZW50LmlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpXHJcbiAgICAgICAgZGNlbnQuaWZyYW1lLnNyYyA9IGRjZW50Q29uZmlnLnBvcFVwVXJsICsgJy9pZnJhbWUnXHJcbiAgICAgICAgZGNlbnQuaWZyYW1lLmlkID0gJ2RjZW50LWNvbm5lY3QnXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkY2VudC5pZnJhbWUpXHJcbiAgICAgICAgZGNlbnQucG9wdXBXaW5kb3cgPSBkY2VudC5pZnJhbWUuY29udGVudFdpbmRvd1xyXG4gICAgICAgIGlmIChkY2VudC5wb3B1cFRhYikge1xyXG4gICAgICAgICAgZGNlbnQucG9wdXBUYWIgPSB1bmRlZmluZWRcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcG9wdXBFcnJvckV4Y2VwdGlvbihlIHx8IGUubWVzc2FnZSlcclxuICB9XHJcbiAgcmV0dXJuIG51bGxcclxufVxyXG5cclxuZGNlbnQuX2NhbGwgPSBmdW5jdGlvbiAoaWR4LCBwYXJhbXMpIHtcclxuICB2YXIgbWVzc2FnZUV2ZW50ID0ge1xyXG4gICAgaWR4OiBpZHgsXHJcbiAgICBldmVudDogJ0JyaWRnZVJlcXVlc3QnLFxyXG4gICAgdHlwZTogJ2pzb24nLFxyXG4gICAgcGF5bG9hZDogcGFyYW1zXHJcbiAgfVxyXG5cclxuICBwb3N0TWVzc2FnZShtZXNzYWdlRXZlbnQpXHJcbiAgLy8gVE9ETyA6IEVycm9yICBQb3B1cCBpcyBub3QgT3BlbmVkLiAgXHJcbn1cclxuXHJcbmNvbnN0IGVlID0gbmV3IEV2ZW50LkV2ZW50RW1pdHRlcigpXHJcblxyXG5jb25zdCBnZXRFdmVudE5hbWUgPSAoaWR4KSA9PiB7XHJcbiAgbGV0IGV2ZW50TmFtZSA9ICcnXHJcbiAgZXZlbnROYW1lID0gJ0RjZW50LkV2ZW50LicgKyBpZHhcclxuICByZXR1cm4gZXZlbnROYW1lXHJcbn1cclxuXHJcbmRjZW50LmNhbGwgPSBhc3luYyBmdW5jdGlvbiAocGFyYW1zKSB7XHJcblxyXG4gIGNvbnN0IGlkeCA9IGRjZW50Lm1lc3NhZ2VSZXF1ZXN0SWR4KytcclxuICBcclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgIGlmICghZGNlbnQucG9wdXBXaW5kb3cgfHwgZGNlbnQucG9wdXBXaW5kb3cuY2xvc2VkKSB7XHJcbiAgICAgIHZhciByZXN1bHQgPSBhd2FpdCBkY2VudC5kY2VudFBvcHVwV2luZG93KClcclxuICAgICAgaWYgKHJlc3VsdCAhPT0gbnVsbCkge1xyXG4gICAgICAgIHJlamVjdChyZXN1bHQpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgLy8gTE9HLmRlYnVnKCdkY2VudC5kY2VudFdlYlByb21pc2UucHJvbWlzZSAtICcsIGRjZW50LmRjZW50V2ViUHJvbWlzZS5wcm9taXNlKVxyXG4gICAgZGNlbnQuZGNlbnRXZWJQcm9taXNlLnByb21pc2UudGhlbihhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICBkY2VudC5fY2FsbChpZHgsIHBhcmFtcylcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgcG9wVXBDbG9zZWRMaXN0ZW5lciA9ICgpID0+IHtcclxuICAgICAgcmVqZWN0KGRjZW50LmRjZW50RXhjZXB0aW9uKCdwb3AtdXBfY2xvc2VkJywgJ1BvcC11cCB3aW5kb3dzIGhhcyBiZWVuIGNsb3NlZCcpKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRpbWVPdXRDYWxsID0gKCkgPT4ge1xyXG4gICAgICBlZS5yZW1vdmVMaXN0ZW5lcihnZXRFdmVudE5hbWUoaWR4KSwgZXZlbnRFbWl0TGlzdGVuZXIpXHJcbiAgICAgIGVlLnJlbW92ZUxpc3RlbmVyKCdwb3BVcENsb3NlZCcsIHBvcFVwQ2xvc2VkTGlzdGVuZXIpXHJcbiAgICAgIHJlamVjdChkY2VudC5kY2VudEV4Y2VwdGlvbigndGltZV9vdXQnLCAnVGhlIGZ1bmN0aW9uIGV4ZWN1dGlvbiB0aW1lIGhhcyBleHBpcmVkJykpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KHRpbWVPdXRDYWxsLCBkY2VudENhbGxUaW1lT3V0TXMpXHJcblxyXG4gICAgY29uc3QgZXZlbnRFbWl0TGlzdGVuZXIgPSAobWVzc2FnZUV2ZW50KSA9PiB7XHJcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcilcclxuICAgICAgZWUucmVtb3ZlTGlzdGVuZXIoJ3BvcFVwQ2xvc2VkJywgcG9wVXBDbG9zZWRMaXN0ZW5lcilcclxuICAgICAgTE9HLmRlYnVnKCdldmVudEVtaXR0ZXIgLSBlbWl0JywgbWVzc2FnZUV2ZW50KVxyXG4gICAgICB0cnkge1xyXG4gICAgICBpZiAobWVzc2FnZUV2ZW50LmRhdGEucGF5bG9hZC5oZWFkZXIuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcclxuICAgICAgICByZXNvbHZlKG1lc3NhZ2VFdmVudC5kYXRhLnBheWxvYWQpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2VFdmVudC5kYXRhLnBheWxvYWQuYm9keS5jb21tYW5kID09PSAndHJhbnNhY3Rpb24nICYmIG1lc3NhZ2VFdmVudC5kYXRhLnBheWxvYWQuYm9keS5lcnJvci5jb2RlID09PSAndXNlcl9jYW5jZWwnKSB7XHJcbiAgICAgICAgICByZXNvbHZlKG1lc3NhZ2VFdmVudC5kYXRhLnBheWxvYWQpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJlamVjdChtZXNzYWdlRXZlbnQuZGF0YS5wYXlsb2FkKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgLy8gTE9HLmVycm9yKGUpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVlLm9uY2UoJ3BvcFVwQ2xvc2VkJywgcG9wVXBDbG9zZWRMaXN0ZW5lcilcclxuICAgIGVlLm9uY2UoZ2V0RXZlbnROYW1lKGlkeCksIGV2ZW50RW1pdExpc3RlbmVyKVxyXG5cclxuICB9KVxyXG59XHJcblxyXG5jb25zdCBjcmVhdGVEY2VudFRhYiA9ICgpID0+IHtcclxuICBMT0cuZGVidWcoJ2NyZWF0ZURjZW50VGFiJylcclxuICBpZiAodHlwZW9mIGNocm9tZSA9PT0gJ3VuZGVmaW5lZCcpIHJldHVyblxyXG5cclxuICBpZiAoZGNlbnQucG9wdXBUYWIgIT09IHVuZGVmaW5lZCAmJiBkY2VudC5wb3B1cFRhYiAhPT0gbnVsbCkgcmV0dXJuIFxyXG5cclxuICBjb25zdCB1cmwgPSBkY2VudENvbmZpZy5wb3BVcFVybCArICc/X2Zyb21fZXh0ZW5zaW9uPXRydWUnXHJcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgY2hyb21lLndpbmRvd3MuZ2V0Q3VycmVudChudWxsLCBmdW5jdGlvbiAoY3VycmVudFdpbmRvdykge1xyXG4gICAgaWYgKGN1cnJlbnRXaW5kb3cudHlwZSAhPT0gJ25vcm1hbCcpIHtcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAgIGNocm9tZS53aW5kb3dzLmNyZWF0ZSh7XHJcbiAgICAgICAgdXJsOiB1cmxcclxuICAgICAgfSwgZnVuY3Rpb24gKG5ld1dpbmRvdykge1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICAgIGNocm9tZS50YWJzLnF1ZXJ5KHtcclxuICAgICAgICAgIHdpbmRvd0lkOiBuZXdXaW5kb3cuaWQsXHJcbiAgICAgICAgICBhY3RpdmU6IHRydWVcclxuICAgICAgICB9LCBmdW5jdGlvbiAodGFicykge1xyXG4gICAgICAgICAgIExPRy5kZWJ1ZygnY3JlYXRlIHdpbmRvdyBhbmQgdGFiJylcclxuICAgICAgICAgICBkY2VudC5wb3B1cFRhYiA9IHRhYnNbMF1cclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICAgY2hyb21lLnRhYnMucXVlcnkoe1xyXG4gICAgICAgIGN1cnJlbnRXaW5kb3c6IHRydWUsXHJcbiAgICAgICAgYWN0aXZlOiB0cnVlXHJcbiAgICAgIH0sIGZ1bmN0aW9uICh0YWJzKSB7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gMFxyXG4gICAgICAgIGlmICh0YWJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGluZGV4ID0gdGFic1swXS5pbmRleCArIDFcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAgICAgY2hyb21lLnRhYnMuY3JlYXRlKHtcclxuICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgaW5kZXg6IGluZGV4XHJcbiAgICAgICAgfSwgZnVuY3Rpb24gKHRhYikge1xyXG4gICAgICAgICAgZGNlbnQucG9wdXBUYWIgPSB0YWJcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuXHJcbmRjZW50Lm1lc3NhZ2VSZWNlaXZlID0gZnVuY3Rpb24gKG1lc3NhZ2VFdmVudCkge1xyXG4gIC8vIExPRy5kZWJ1ZyhcIm1lc3NhZ2VSZWNlaXZlXCIsIG1lc3NhZ2VFdmVudClcclxuICBpZiAoXHJcbiAgICBtZXNzYWdlRXZlbnQuZGF0YS5ldmVudCA9PT0gJ0JyaWRnZUV2ZW50JyB8fFxyXG4gICAgbWVzc2FnZUV2ZW50LmRhdGEuZXZlbnQgPT09ICdCcmlkZ2VSZXNwb25zZSdcclxuICApIHtcclxuICAgIExPRy5kZWJ1ZygnbWVzc2FnZVJlY2VpdmUnLCBtZXNzYWdlRXZlbnQpXHJcbiAgfVxyXG5cclxuICBpZiAoXHJcbiAgICBtZXNzYWdlRXZlbnQuZGF0YS5ldmVudCA9PT0gJ0JyaWRnZUV2ZW50JyAmJlxyXG4gICAgbWVzc2FnZUV2ZW50LmRhdGEudHlwZSA9PT0gJ2RhdGEnXHJcbiAgICkge1xyXG4gICAgaWYgKG1lc3NhZ2VFdmVudC5kYXRhLnBheWxvYWQgPT09ICdkY2VudC1pZnJhbWUtaW5pdCcpIHtcclxuICAgICAgZGNlbnQuZXZlbnRTb3VyY2UgPSBtZXNzYWdlRXZlbnQuc291cmNlXHJcbiAgICAgIGNyZWF0ZURjZW50VGFiKClcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBpZiAobWVzc2FnZUV2ZW50LmRhdGEucGF5bG9hZCA9PT0gJ3BvcHVwLXN1Y2Nlc3MnKSB7XHJcbiAgICAgIGRjZW50LmRjZW50V2ViUHJvbWlzZS5yZXNvbHZlKClcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBpZiAobWVzc2FnZUV2ZW50LmRhdGEucGF5bG9hZCA9PT0gJ3BvcHVwLWNsb3NlJykge1xyXG4gICAgICBjbGVhclBvcHVwKClcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBpZiAobWVzc2FnZUV2ZW50LmRhdGEucGF5bG9hZCA9PT0gJ2RjZW50LWNvbm5lY3RlZCcgfHxcclxuICAgICBtZXNzYWdlRXZlbnQuZGF0YS5wYXlsb2FkID09PSAnZGNlbnQtZGlzY29ubmVjdGVkJykge1xyXG4gICAgICBpZiAoY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgY29ubmVjdGlvbkxpc3RlbmVyKG1lc3NhZ2VFdmVudC5kYXRhLnBheWxvYWQpXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChcclxuICAgIG1lc3NhZ2VFdmVudC5kYXRhLmV2ZW50ICE9PSAnQnJpZGdlUmVzcG9uc2UnIHx8XHJcbiAgICBtZXNzYWdlRXZlbnQuZGF0YS50eXBlICE9PSAnanNvbidcclxuICApIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCBpZHggPSBtZXNzYWdlRXZlbnQuZGF0YS5pZHggfHwgZGNlbnQubWVzc2FnZVJlc3BvbnNldElkeCsrXHJcblxyXG4gIGVlLmVtaXQoZ2V0RXZlbnROYW1lKGlkeCksIG1lc3NhZ2VFdmVudClcclxuXHJcbn1cclxuXHJcbmRjZW50LnBvcHVwV2luZG93Q2xvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgY29uc3QgZXh0ZW5zaW9uID0gdHlwZW9mIGNocm9tZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY2hyb21lLnJ1bnRpbWUgJiYgdHlwZW9mIGNocm9tZS5ydW50aW1lLm9uQ29ubmVjdCAhPT0gJ3VuZGVmaW5lZCdcclxuICBpZiAoIWV4dGVuc2lvbikge1xyXG4gICAgcG9zdE1lc3NhZ2Uoe1xyXG4gICAgICBldmVudDogJ0JyaWRnZUV2ZW50JyxcclxuICAgICAgdHlwZTogJ2RhdGEnLFxyXG4gICAgICBwYXlsb2FkOiAncG9wdXAtY2xvc2UnXHJcbiAgICB9KSAgXHJcbiAgfSBlbHNlIHtcclxuICAgIGlmIChkY2VudC5wb3B1cFRhYiAmJiBkY2VudC5wb3B1cFRhYi5pZCkge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgY2hyb21lLnRhYnMucmVtb3ZlKGRjZW50LnBvcHVwVGFiLmlkLCAoKSA9PiB7XHJcbiAgICAgICAgZGNlbnQucG9wdXBXaW5kb3cgPSB1bmRlZmluZWRcclxuICAgICAgICBkY2VudC5wb3B1cFRhYiA9IHVuZGVmaW5lZFxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgY29uc3QgZGNlbnRJZnJhbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGNlbnQtY29ubmVjdCcpXHJcbiAgICBpZiAoZGNlbnRJZnJhbWUpIHtcclxuICAgICAgZGNlbnRJZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkY2VudElmcmFtZSlcclxuICAgIH0gICAgXHJcbiAgICBjbGVhclBvcHVwKClcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IHBvc3RNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcclxuICBpZiAoZGNlbnQucG9wdXBXaW5kb3cpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBvcmlnaW4gPSAnKicgXHJcbiAgICAgIGlmIChkY2VudC5pZnJhbWUpIHtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcclxuICAgICAgICBvcmlnaW4gPSBkY2VudC5pZnJhbWUuc3JjLm1hdGNoKC9eLitcXDpcXC9cXC9bXlxcL10rLylbMF1cclxuICAgICAgfSBcclxuICAgICAgZGNlbnQucG9wdXBXaW5kb3cucG9zdE1lc3NhZ2UobWVzc2FnZSwgb3JpZ2luKSAgICAgXHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIC8vIExPRy5lcnJvcihlKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBkY2VudC5tZXNzYWdlUmVjZWl2ZSwgZmFsc2UpXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGRjZW50LnBvcHVwV2luZG93Q2xvc2UpXHJcbn1cclxuXHJcbmNvbnN0IGlzTnVtYmVyU3RyaW5nID0gKHN0cikgPT4ge1xyXG4gIGlmICgvXlswLTldKyQvLnRlc3Qoc3RyKSkge1xyXG4gICAgcmV0dXJuIHRydWVcclxuICB9XHJcbiAgcmV0dXJuIGZhbHNlXHJcbn1cclxuXHJcbmNvbnN0IGlzSGV4TnVtYmVyU3RyaW5nID0gKHN0cikgPT4ge1xyXG4gIGlmICgvXigweCk/WzAtOWEtZl0rJC8udGVzdChzdHIudG9Mb3dlckNhc2UoKSkpIHtcclxuICAgIC8vIENoZWNrIGlmIGl0IGhhcyB0aGUgYmFzaWMgcmVxdWlyZW1lbnRzIG9mIGFuIGFkZHJlc3NcclxuICAgIHJldHVybiB0cnVlXHJcbiAgfVxyXG4gIHJldHVybiBmYWxzZVxyXG59XHJcblxyXG5jb25zdCBjaGVja1BhcmFtZXRlciA9ICh0eXBlLCBwYXJhbSkgPT4ge1xyXG4gIGlmICh0eXBlID09PSAnbnVtYmVyU3RyaW5nJykge1xyXG4gICAgaWYgKHR5cGVvZiBwYXJhbSAhPT0gJ3N0cmluZycpIHRocm93IGRjZW50LmRjZW50RXhjZXB0aW9uKCdwYXJhbV9lcnJvcicsICdJbnZhaWxkIFBhcmFtZXRlciAtICcgKyBwYXJhbSkgLy8gbXVzdCBzdHJpbmdcclxuXHJcbiAgICBpZiAocGFyYW0uaW5kZXhPZignMHgnLCAwKSA9PT0gLTEpIHtcclxuICAgICAgLy8gbnVtYmVyIHN0cmluZ1xyXG4gICAgICBpZiAoaXNOdW1iZXJTdHJpbmcocGFyYW0pKSByZXR1cm4gcGFyYW1cclxuICAgIH0gZWxzZSBpZiAocGFyYW0uaW5kZXhPZignMHgnLCAwKSA9PT0gMCkge1xyXG4gICAgICAvLyBoZXggc3RyaW5nXHJcbiAgICAgIGlmIChpc0hleE51bWJlclN0cmluZyhwYXJhbSkpIHJldHVybiBwYXJhbVxyXG4gICAgfVxyXG4gICAgdGhyb3cgZGNlbnQuZGNlbnRFeGNlcHRpb24oJ3BhcmFtX2Vycm9yJywgJ0ludmFpbGQgUGFyYW1ldGVyIC0gLSAtICcgKyBwYXJhbSlcclxuICB9XHJcblxyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBEJ0NFTlQgQnJpZGdlIChUcmF5IERhZW1vbikgc3RhdHVzIGluZm9tYXRpb24uXHJcbiAqIFxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB0aGF0IEJyaWRnZSBTdGF0dXMgSW5mb21hdGlvbi4gIFxyXG4gKi9cclxuZGNlbnQuaW5mbyA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gYXdhaXQgZGNlbnQuY2FsbCh7XHJcbiAgICBtZXRob2Q6ICdpbmZvJ1xyXG4gIH0pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdGhlIGZ1bmN0aW9uIGV4ZWN1dGlvbiB0aW1lb3V0IHRpbWUuIFxyXG4gKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyA2MDAwMG1zLCB0aGF0IGlzIDEgbWludXRlLlxyXG4gKiBcclxuICogQHBhcmFtIHtudW1iZXJ9IHRpbWVPdXRNcyB0aGUgdGltZW91dCB0aW1lIHRoYXQgdGhlIGZ1bmN0aW9uIGV4ZWN1dGlvbi4gVGhlIHVuaXQgaXMgYG1zYFxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB2b2lkIG9uIHN1Y2Nlc3MsIGV4Y3B0aW9uIG9uIGZhaWx1cmUuXHJcbiAqL1xyXG5kY2VudC5zZXRUaW1lT3V0TXMgPSBmdW5jdGlvbiAodGltZU91dE1zKSB7XHJcbiAgaWYgKHR5cGVvZiB0aW1lT3V0TXMgIT09ICdudW1iZXInKSB7XHJcbiAgICB0aHJvdyBkY2VudC5kY2VudEV4Y2VwdGlvbigncGFyYW1fZXJyb3InLCAndGltZU91dE1zIGlzIG5vdCBOdW1iZXIgVHlwZScpXHJcbiAgfVxyXG4gIGRjZW50Q2FsbFRpbWVPdXRNcyA9IHRpbWVPdXRNc1xyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBEJ0NFTlQgQmlvbWV0cmljIFdhbGxldCBzdGF0dXMgaW5mb21hdGlvbi5cclxuICogXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IHRoYXQgV2FsbGV0IGRldmljZSBpbmZvcm1hdGlvbi5cclxuICovXHJcbmRjZW50LmdldERldmljZUluZm8gPSBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIGF3YWl0IGRjZW50LmNhbGwoe1xyXG4gICAgbWV0aG9kOiAnZ2V0RGV2aWNlSW5mbydcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc0F2YWxpYWJsZUxhYmVsIChsYWJlbCkge1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxyXG4gIHZhciByZWdFeHAgPSAvXlthLXpBLVpcXGQuISMkJSZcXCtcXC1fXXsyLDE0fSQvXHJcbiAgaWYgKCFsYWJlbCB8fCAhcmVnRXhwLnRlc3QobGFiZWwpKSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9ICBcclxuICByZXR1cm4gdHJ1ZVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc0F2YWxpYWJsZUNvaW5Hcm91cCAoY29pbkdyb3VwKSB7XHJcbiAgXHJcbiAgaWYgKCFjb2luR3JvdXApIHtcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuICBzd2l0Y2ggKGNvaW5Hcm91cC50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICBjYXNlIGRjZW50Q29pbkdyb3VwLkJJVENPSU4udG9Mb3dlckNhc2UoKTpcclxuICAgIGNhc2UgZGNlbnRDb2luR3JvdXAuQklUQ09JTl9URVNUTkVULnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pbkdyb3VwLk1PTkFDT0lOLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pbkdyb3VwLk1PTkFDT0lOX1RFU1RORVQudG9Mb3dlckNhc2UoKTogICAgXHJcbiAgICBjYXNlIGRjZW50Q29pbkdyb3VwLkVSQzIwLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pbkdyb3VwLkVSQzIwX0tPVkFOLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pbkdyb3VwLkVUSEVSRVVNLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pbkdyb3VwLkVUSEVSRVVNX0tPVkFOLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pbkdyb3VwLlJSQzIwLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pbkdyb3VwLlJSQzIwX1RFU1RORVQudG9Mb3dlckNhc2UoKTpcclxuICAgIGNhc2UgZGNlbnRDb2luR3JvdXAuUlNLLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pbkdyb3VwLlJTS19URVNUTkVULnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pbkdyb3VwLktMQVlUTi50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5Hcm91cC5LTEFZX0JBT0JBQi50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5Hcm91cC5LTEFZVE5fS0NULnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pbkdyb3VwLktDVF9CQU9CQUIudG9Mb3dlckNhc2UoKTpcclxuICAgIGNhc2UgZGNlbnRDb2luR3JvdXAuUklQUExFLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pbkdyb3VwLlJJUFBMRV9URVNUTkVULnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pbkdyb3VwLlhEQy50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5Hcm91cC5YRENfQVBPVEhFTS50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5Hcm91cC5YUkMyMC50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5Hcm91cC5YUkMyMF9BUE9USEVNLnRvTG93ZXJDYXNlKCk6XHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzQXZhbGlhYmxlQ29pblR5cGUgKGNvaW5UeXBlKSB7XHJcbiAgaWYgKCFjb2luVHlwZSkge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG4gIHN3aXRjaCAoY29pblR5cGUudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgY2FzZSBkY2VudENvaW5UeXBlLkJJVENPSU4udG9Mb3dlckNhc2UoKTpcclxuICAgIGNhc2UgZGNlbnRDb2luVHlwZS5CSVRDT0lOX1RFU1RORVQudG9Mb3dlckNhc2UoKTpcclxuICAgIGNhc2UgZGNlbnRDb2luVHlwZS5NT05BQ09JTi50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5UeXBlLk1PTkFDT0lOX1RFU1RORVQudG9Mb3dlckNhc2UoKTpcclxuICAgIGNhc2UgZGNlbnRDb2luVHlwZS5FVEhFUkVVTS50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5UeXBlLkVUSEVSRVVNX0tPVkFOLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pblR5cGUuRVJDMjAudG9Mb3dlckNhc2UoKTpcclxuICAgIGNhc2UgZGNlbnRDb2luVHlwZS5FUkMyMF9LT1ZBTi50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5UeXBlLlJSQzIwLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pblR5cGUuUlJDMjBfVEVTVE5FVC50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5UeXBlLlJTSy50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5UeXBlLlJTS19URVNUTkVULnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pblR5cGUuS0xBWVROLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pblR5cGUuS0xBWV9CQU9CQUIudG9Mb3dlckNhc2UoKTpcclxuICAgIGNhc2UgZGNlbnRDb2luVHlwZS5LTEFZVE5fS0NULnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pblR5cGUuS0NUX0JBT0JBQi50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5UeXBlLlJJUFBMRS50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5UeXBlLlJJUFBMRV9URVNUTkVULnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pblR5cGUuWERDLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pblR5cGUuWERDX0FQT1RIRU0udG9Mb3dlckNhc2UoKTpcclxuICAgIGNhc2UgZGNlbnRDb2luVHlwZS5YUkMyMC50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5UeXBlLlhSQzIwX0FQT1RIRU0udG9Mb3dlckNhc2UoKTpcclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaXNUb2tlblR5cGUgKGNvaW5Hcm91cCkge1xyXG4gIGlmICghY29pbkdyb3VwKSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcbiAgc3dpdGNoIChjb2luR3JvdXAudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgY2FzZSBkY2VudENvaW5Hcm91cC5FUkMyMC50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5Hcm91cC5FUkMyMF9LT1ZBTi50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5UeXBlLlJSQzIwLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pblR5cGUuUlJDMjBfVEVTVE5FVC50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5UeXBlLktMQVlUTl9LQ1QudG9Mb3dlckNhc2UoKTpcclxuICAgIGNhc2UgZGNlbnRDb2luVHlwZS5LQ1RfQkFPQkFCLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pbkdyb3VwLlhSQzIwLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pbkdyb3VwLlhSQzIwX0FQT1RIRU0udG9Mb3dlckNhc2UoKTpcclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaXNCaXRjb2luVHhDb2luVHlwZSAoY29pblR5cGUpIHtcclxuICBzd2l0Y2ggKGNvaW5UeXBlLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgIGNhc2UgZGNlbnRDb2luVHlwZS5CSVRDT0lOLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pblR5cGUuQklUQ09JTl9URVNUTkVULnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pblR5cGUuTU9OQUNPSU4udG9Mb3dlckNhc2UoKTpcclxuICAgIGNhc2UgZGNlbnRDb2luVHlwZS5NT05BQ09JTl9URVNUTkVULnRvTG93ZXJDYXNlKCk6XHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgeW91ciBsYWJlbCBuYW1lIHRvIHRoZSBEJ0NFTlQgYmlvbWV0cmljIFdhbGxldC4gSWYgeW91IHJlYm9vdCB5b3VyIEQnQ0VOVCwgeW91IGNhbiBzZWUgdGhlIGxhYmVsIG5hbWUuXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbGFiZWwgdGhlIGxhYmVsIG5hbWUgb2YgRCdDRU5UIGJpb21ldHJpYyBXYWxsZXQuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IHNldCByZXN1bHQuIHRydWUsIGlmIHlvdSBzZXQgY29tcGxldGVseSBvdGhlcndpc2UgZmFsc2UuXHJcbiAqL1xyXG5kY2VudC5zZXRMYWJlbCA9IGFzeW5jIGZ1bmN0aW9uIChsYWJlbCkge1xyXG4gIGlmICghaXNBdmFsaWFibGVMYWJlbChsYWJlbCkpIHtcclxuICAgIHRocm93IGRjZW50LmRjZW50RXhjZXB0aW9uKCdwYXJhbV9lcnJvcicsICdJbnZhbGlkIExhYmVsIDogJyArIGxhYmVsKVxyXG4gIH0gIFxyXG5cclxuICByZXR1cm4gYXdhaXQgZGNlbnQuY2FsbCh7XHJcbiAgICBtZXRob2Q6ICdzZXRMYWJlbCcsXHJcbiAgICBwYXJhbXM6IHtcclxuICAgICAgbGFiZWw6IGxhYmVsXHJcbiAgICB9XHJcbiAgfSlcclxufVxyXG5cclxuLyoqXHJcbiAqIFN5bmNocm9uaXplIGFjY291bnRzIGJldHdlZW4gYXBwbGljYXRpb25zIGFuZCBXYWxsZXRzLiBDYWxsIHRoaXMgZnVuY3Rpb24gdG8gYWRkIGFuIGFjY291bnQgb3IgdXBkYXRlIGFjY291bnQgaW5mb3JtYXRpb24gKGZvciBleGFtcGxlLCBhIGJhbGFuY2Ugb3IgbGFiZWwpLlxyXG4gKiBcclxuICogQHBhcmFtIHtPYmplY3R9IGFjY291bnRJbmZvcyBBbiBhcnJheSBvYmplY3QgZm9yIHRoZSBhY2NvdW50IGluZm9ybWF0aW9ucy5cclxuICogQHJldHVybnMge09iamVjdH0gc3luYyByZXN1bHQuIHRydWUgaWYgeW91IHN5bmMgY29tcGxldGVseSBvdGhlcndpc2UgZmFsc2UuXHJcbiAqL1xyXG5kY2VudC5zeW5jQWNjb3VudCA9IGFzeW5jIGZ1bmN0aW9uIChhY2NvdW50SW5mb3MpIHtcclxuICAvLyBjaGVjayBhY2NvdW50IGluZm8gcGFyYW1ldGVyIFxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYWNjb3VudEluZm9zLmxlbmd0aDsgaSA9IGkgKyAxKSB7XHJcbiAgICBjb25zdCBhY2NvdW50ID0gYWNjb3VudEluZm9zW2ldXHJcbiAgICBpZiAoIWlzQXZhbGlhYmxlQ29pbkdyb3VwKGFjY291bnQuY29pbl9ncm91cCkpIHtcclxuICAgICAgdGhyb3cgZGNlbnQuZGNlbnRFeGNlcHRpb24oJ2NvaW5fZ3JvdXBfZXJyb3InLCAnbm90IHN1cHBvcnRlZCBjb2luIGdyb3VwJylcclxuICAgIH1cclxuICAgIGlmICghaXNUb2tlblR5cGUoYWNjb3VudC5jb2luX2dyb3VwKSAmJiAhaXNBdmFsaWFibGVDb2luR3JvdXAoYWNjb3VudC5jb2luX25hbWUpKSB7XHJcbiAgICAgIHRocm93IGRjZW50LmRjZW50RXhjZXB0aW9uKCdjb2luX25hbWVfZXJyb3InLCAnbm90IHN1cHBvcnRlZCBjb2luIG5hbWUnKVxyXG4gICAgfVxyXG4gICAgaWYgKCFpc0F2YWxpYWJsZUxhYmVsKGFjY291bnQubGFiZWwpKSB7XHJcbiAgICAgIHRocm93IGRjZW50LmRjZW50RXhjZXB0aW9uKCdwYXJhbV9lcnJvcicsICdJbnZhbGlkIExhYmVsIC0gJyArIGFjY291bnQubGFiZWwpXHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBhd2FpdCBkY2VudC5jYWxsKHtcclxuICAgIG1ldGhvZDogJ3N5bmNBY2NvdW50JyxcclxuICAgIHBhcmFtczoge1xyXG4gICAgICBhY2NvdW50SW5mb3M6IGFjY291bnRJbmZvc1xyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGN1cnJlbnQgYWNjb3VudCBsaXN0IGluIFdhbGxldFxyXG4gKiBcclxuICogQHJldHVybnMge09iamVjdH0gYWNjb3VudCBsaXN0XHJcbiAqL1xyXG5kY2VudC5nZXRBY2NvdW50SW5mbyA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gYXdhaXQgZGNlbnQuY2FsbCh7XHJcbiAgICBtZXRob2Q6ICdnZXRBY2NvdW50SW5mbydcclxuICB9KVxyXG59XHJcblxyXG4vKipcclxuICogXHJcbiAqIEBwYXJhbSB7QXJyYXl9IGFkZHJlc3NlcyBcclxuICovXHJcbmRjZW50LnNlbGVjdEFkZHJlc3MgPSBhc3luYyBmdW5jdGlvbiAoYWRkcmVzc2VzKSB7XHJcbiAgaWYgKCFBcnJheS5pc0FycmF5KGFkZHJlc3NlcykpIHtcclxuICAgIHRocm93IGRjZW50LmRjZW50RXhjZXB0aW9uKCdwYXJhbV9lcnJvcicsICdhZGRyZXNzZXMgaXMgbm90IGFycmF5JylcclxuICB9XHJcbiAgcmV0dXJuIGF3YWl0IGRjZW50LmNhbGwoe1xyXG4gICAgbWV0aG9kOiAnc2VsZWN0QWRkcmVzcycsXHJcbiAgICBwYXJhbXM6IHtcclxuICAgICAgYWRkcmVzc2VzOiBhZGRyZXNzZXNcclxuICAgIH1cclxuICB9KVxyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBDb2luIGFkZHJlc3MgdmFsdWUgb2YgYWxsIGNvaW4gdHlwZXMgdXNpbmcgc3RyaW5nIHZhbHVlIG9mIGtleSBwYXRoLlxyXG4gKiBcclxuICogQHBhcmFtIHtzdHJpbmd9IGNvaW5UeXBlIGNvaW4gdHlwZS4gXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIHN0cmluZyB2YWx1ZSBvZiBrZXkgcGF0aCB0byBnZXQgYWRkcmVzc1xyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBhZGRyZXNzLlxyXG4gKi9cclxuZGNlbnQuZ2V0QWRkcmVzcyA9IGFzeW5jIGZ1bmN0aW9uIChjb2luVHlwZSwgcGF0aCkge1xyXG5cclxuICBpZiAoIWlzQXZhbGlhYmxlQ29pblR5cGUoY29pblR5cGUpKSB7XHJcbiAgICB0aHJvdyBkY2VudC5kY2VudEV4Y2VwdGlvbignY29pbl90eXBlX2Vycm9yJywgJ25vdCBzdXBwb3J0ZWQgY29pbiB0eXBlJylcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIGF3YWl0IGRjZW50LmNhbGwoe1xyXG4gICAgbWV0aG9kOiAnZ2V0QWRkcmVzcycsXHJcbiAgICBwYXJhbXM6IHtcclxuICAgICAgY29pblR5cGU6IGNvaW5UeXBlLFxyXG4gICAgICBwYXRoOiBwYXRoXHJcbiAgICB9XHJcbiAgfSlcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgRXh0ZW5kZWQgUHVibGljIEtleVxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IEJJUDQ0IEtleSBQYXRoIHRoYXQgd2FudHMgdG8gZXh0cmFjdCBwdWJsaWMga2V5LiBNdXN0IGJlIGhhcmRlbmVkIGF0IGxlYXN0IHR3byBkZXB0aCBvZiBwYXRoLiBleCkgbS80NCcvMCdcclxuICogQHBhcmFtIHtzdHJpbmd9IGJpcDMybmFtZSBTdHJpbmcgdG8gZGVyaXZhdGUgQklQMzIgbWFzdGVyIGtleS4gRGVmYXVsdCB2YWx1ZSBpcyBcIkJpdGNvaW4gc2VlZFwiXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IFhQVUJcclxuICovXHJcbmRjZW50LmdldFhQVUIgPSBhc3luYyBmdW5jdGlvbiAoa2V5LCBiaXAzMm5hbWUpIHtcclxuICByZXR1cm4gYXdhaXQgZGNlbnQuY2FsbCh7XHJcbiAgICBtZXRob2Q6ICdnZXRYUFVCJyxcclxuICAgIHBhcmFtczoge1xyXG4gICAgICBrZXk6IGtleSxcclxuICAgICAgYmlwMzJuYW1lOiBiaXAzMm5hbWVcclxuICAgIH1cclxuICB9KVxyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIEpTT04gT2JqZWN0IGZvciBCaXRjb2luIHRyYW5zYWN0aW9uLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY29pblR5cGUgY29pbiB0eXBlXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IHRoYXQgRCdDRU5UIEJpdGNvaW4gVHJhbnNhY3Rpb24gSlNPTiBPYmplY3QuXHJcbiAqL1xyXG5kY2VudC5nZXRCaXRjb2luVHJhbnNhY3Rpb25PYmplY3QgPSBmdW5jdGlvbiAoY29pblR5cGUpIHtcclxuICBpZiAoIWlzQml0Y29pblR4Q29pblR5cGUoY29pblR5cGUpKSB7XHJcbiAgICB0aHJvdyBkY2VudC5kY2VudEV4Y2VwdGlvbignY29pbl90eXBlX2Vycm9yJywgJ25vdCBzdXBwb3J0ZWQgY29pbiB0eXBlJylcclxuICB9XHJcbiAgY29uc3QgdHhPYmplY3QgPSB7XHJcbiAgICByZXF1ZXN0OiB7XHJcbiAgICAgIGhlYWRlcjoge1xyXG4gICAgICAgIHZlcnNpb246ICcxLjAnLFxyXG4gICAgICAgIHJlcXVlc3RfdG86ICcnXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IHtcclxuICAgICAgICBjb21tYW5kOiAnJyxcclxuICAgICAgICBwYXJhbWV0ZXI6IHt9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgdHhPYmplY3QucmVxdWVzdC5oZWFkZXIucmVxdWVzdF90byA9IGNvaW5UeXBlXHJcbiAgdHhPYmplY3QucmVxdWVzdC5ib2R5LmNvbW1hbmQgPSAndHJhbnNhY3Rpb24nXHJcbiAgdHhPYmplY3QucmVxdWVzdC5ib2R5LnBhcmFtZXRlciA9IHt9XHJcbiAgdHhPYmplY3QucmVxdWVzdC5ib2R5LnBhcmFtZXRlci52ZXJzaW9uID0gMVxyXG4gIHR4T2JqZWN0LnJlcXVlc3QuYm9keS5wYXJhbWV0ZXIubG9ja3RpbWUgPSAwXHJcblxyXG4gIHJldHVybiB0eE9iamVjdFxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqICBwcmV2aW91cyB0cmFuc2FjdGlvbiBvdXRwdXQgaW5mb3JtYXRpb24gdG8gYmUgdXNlZC4gTWF4IE51bWJlciBvZiDigJxpbnB1dOKAnSBpcyA1MC5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHRyYW5zYWN0aW9uIEpTT04gT2JqZWN0IFJldHVybmVkIGZyb20gZ2V0Qml0Q29pblRyYW5zYWN0aW9uIEZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcmV2VHggUHJldmlvdXMgZnVsbCB0cmFuc2FjdGlvbiBkYXRhLiBUaGlzIGRhdGEgd2lsbCBiZSB1c2VkIGZvciBnZW5lcmF0aW5nIHByZXZpb3VzIHRyYW5zYWN0aW9uIGhhc2gsIGFuZCBmb3IgY2hlY2sgdGhlIGFtb3VudCBvZiBjb2luIHRvIGJlIHNlbnQuIFJhdyBUcmFuc2FjdGlvbiBkYXRhIHdpdGggSGV4IGZvcm1hdHRlZC5cclxuICogQHBhcmFtIHtudW1iZXJ9IHV0eG9JZHggaW5kZXggb2YgdHJhbnNhY3Rpb24gb3V0cHV0IGZyb20gcHJldl90eFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBwMnBraCB8IHAycGsgfCBwMnNoIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IGtleSBwYXRoIGZvciBnZW5lcmF0aW5nIHNpZ25hdHVyZVxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBzZXR0aW5nIHJlc3VsdC4gaWYgeW91IHNldHRpbmcgY29tcGxldGVseSBpcyB0cnVlIG90aGVyd2lzZSBmYWxzZS5cclxuICovXHJcbmRjZW50LmFkZEJpdGNvaW5UcmFuc2FjdGlvbklucHV0ID0gZnVuY3Rpb24gKFxyXG4gIHRyYW5zYWN0aW9uLFxyXG4gIHByZXZUeCxcclxuICB1dHhvSWR4LFxyXG4gIHR5cGUsXHJcbiAga2V5XHJcbikge1xyXG5cclxuICBjb25zdCBwYXJhbWV0ZXIgPSB0cmFuc2FjdGlvbi5yZXF1ZXN0LmJvZHkucGFyYW1ldGVyXHJcblxyXG4gIHBhcmFtZXRlci5pbnB1dCA9IHBhcmFtZXRlci5pbnB1dCB8fCBbXVxyXG5cclxuICBwYXJhbWV0ZXIuaW5wdXQucHVzaCh7XHJcbiAgICBwcmV2X3R4OiBwcmV2VHgsXHJcbiAgICB1dHhvX2lkeDogdXR4b0lkeCxcclxuICAgIHR5cGU6IHR5cGUsXHJcbiAgICBrZXk6IGtleVxyXG4gIH0pXHJcblxyXG4gIHJldHVybiB0cmFuc2FjdGlvblxyXG59XHJcblxyXG4vKipcclxuICogYml0Y29pbiBzcGVuZGluZyBpbmZvcm1hdGlvbi4gTWF4IG51bWJlciBvZiDigJxvdXRwdXTigJ0gaXMgMTAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2FjdGlvbiBKU09OIE9iamVjdCBSZXR1cm5lZCBmcm9tIGdldEJpdENvaW5UcmFuc2FjdGlvbiBGdW5jdGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBwMnBraCB8IHAycGsgfCBwMnNoIHwgY2hhbmdlXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBhbW91bnQgb2YgY29pbiB0byBzZW5kXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0byBhZGRyZXNzIG9mIHJlY2VpdmVyXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IHNldHRpbmcgcmVzdWx0LiBpZiB5b3Ugc2V0dGluZyBjb21wbGV0ZWx5IGlzIHRydWUgb3RoZXJ3aXNlIGZhbHNlLlxyXG4gKi9cclxuZGNlbnQuYWRkQml0Y29pblRyYW5zYWN0aW9uT3V0cHV0ID0gZnVuY3Rpb24gKFxyXG4gIHRyYW5zYWN0aW9uLFxyXG4gIHR5cGUsXHJcbiAgdmFsdWUsXHJcbiAgdG9cclxuKSB7XHJcbiAgY29uc3QgcGFyYW1ldGVyID0gdHJhbnNhY3Rpb24ucmVxdWVzdC5ib2R5LnBhcmFtZXRlclxyXG5cclxuICBwYXJhbWV0ZXIub3V0cHV0ID0gcGFyYW1ldGVyLm91dHB1dCB8fCBbXVxyXG5cclxuICBwYXJhbWV0ZXIub3V0cHV0LnB1c2goe1xyXG4gICAgdHlwZTogdHlwZSxcclxuICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgIHRvOiB0b1xyXG4gIH0pXHJcblxyXG4gIHJldHVybiB0cmFuc2FjdGlvblxyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBzaWduZWQgdHJhbnNhY3Rpb24gdmFsdWUuIElmIHlvdSB3YW50IHRvIGdldCBzaWduIHZhbHVlIG9mIFwiQklUQ09JTlwiIG9yIFwiTU9OQUNPSU5cIiB0cmFuc2FjdGlvbiwgbXVzdCBjYWxsIHRoaXMgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2FjdGlvbiBKU09OIE9iamVjdCBSZXR1cm5lZCBmcm9tIGdldEJpdENvaW5UcmFuc2FjdGlvbiBGdW5jdGlvblxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBzaWduZWQgdHJhbnNhY3Rpb24gdmFsdWVcclxuICovXHJcbmRjZW50LmdldEJpdGNvaW5TaWduZWRUcmFuc2FjdGlvbiA9IGFzeW5jIGZ1bmN0aW9uICh0cmFuc2FjdGlvbikge1xyXG5cclxuICBpZiAodHJhbnNhY3Rpb24gPT09IG51bGwgfHwgdHlwZW9mIHRyYW5zYWN0aW9uID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgdGhyb3cgZGNlbnQuZGNlbnRFeGNlcHRpb24oJ3BhcmFtX2Vycm9yJywgJ3RyYW5zYWN0aW9uIG9iamVjdCBpcyB1bmRlZmluZWQgb3IgbnVsbCcpXHJcbiAgfVxyXG5cclxuICBMT0cuZGVidWcoJ3RyYW5zYWN0aW9uIDogJywgSlNPTi5zdHJpbmdpZnkodHJhbnNhY3Rpb24pKVxyXG4gIHJldHVybiBhd2FpdCBkY2VudC5jYWxsKHtcclxuICAgIG1ldGhvZDogJ2dldEJpdGNvaW5TaWduZWRUcmFuc2FjdGlvbicsXHJcbiAgICBwYXJhbXM6IHtcclxuICAgICAgdHJhbnNhY3Rpb246IHRyYW5zYWN0aW9uXHJcbiAgICB9XHJcbiAgfSlcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGV0aGVyZXVtIHNpZ25lZCB0cmFuc2FjdGlvbi4gSWYgeW91IHdhbnQgdG8gZ2V0IHNpZ24gdmFsdWUgb2YgXCJFVEhFUkVVTVwiIG9yIFwiUlNLXCIgdHJhbnNhY3Rpb24sIG11c3QgY2FsbCB0aGlzIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY29pblR5cGUgY29pbiB0eXBlIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbm9uY2UgYWNjb3VudCBub25jZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZ2FzUHJpY2UgR0FTIHByaWNlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBnYXNMaW1pdCBHQVMgbGltaXQgXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0byByZWNpcGllbnQncyBhZGRyZXNzXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBhbW91bnQgb2YgZXRoZXIgdG8gYmUgc2VudC4gKCBXRUkgdW5pdCB2YWx1ZSApXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhIHRyYW5zYWN0aW9uIGRhdGEgKGV4OiBcIjB4XCIpXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkga2V5IHBhdGggKEJJUDQ0KVxyXG4gKiBAcGFyYW0ge251bWJlcn0gY2hhaW5JZCBjaGFpbiBpZFxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBzaWduZWQgdHJhbnNhY3Rpb24gdmFsdWVcclxuICovXHJcbmRjZW50LmdldEV0aGVyZXVtU2lnbmVkVHJhbnNhY3Rpb24gPSBhc3luYyBmdW5jdGlvbiAoXHJcbiAgY29pblR5cGUsXHJcbiAgbm9uY2UsXHJcbiAgZ2FzUHJpY2UsXHJcbiAgZ2FzTGltaXQsXHJcbiAgdG8sXHJcbiAgdmFsdWUsXHJcbiAgZGF0YSxcclxuICBrZXksXHJcbiAgY2hhaW5JZFxyXG4pIHtcclxuXHJcbiAgdHJ5IHtcclxuICAgIG5vbmNlID0gY2hlY2tQYXJhbWV0ZXIoJ251bWJlclN0cmluZycsIG5vbmNlKVxyXG4gICAgZ2FzUHJpY2UgPSBjaGVja1BhcmFtZXRlcignbnVtYmVyU3RyaW5nJywgZ2FzUHJpY2UpXHJcbiAgICBnYXNMaW1pdCA9IGNoZWNrUGFyYW1ldGVyKCdudW1iZXJTdHJpbmcnLCBnYXNMaW1pdClcclxuICAgIHZhbHVlID0gY2hlY2tQYXJhbWV0ZXIoJ251bWJlclN0cmluZycsIHZhbHVlKVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvclxyXG4gIH1cclxuXHJcbiAgaWYgKHR5cGVvZiBjaGFpbklkICE9PSAnbnVtYmVyJykge1xyXG4gICAgdGhyb3cgZGNlbnQuZGNlbnRFeGNlcHRpb24oJ3BhcmFtX2Vycm9yJywgJ0ludmFpbGQgUGFyYW1ldGVyJylcclxuICB9XHJcblxyXG4gIHN3aXRjaCAoY29pblR5cGUudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgY2FzZSBkY2VudENvaW5UeXBlLkVUSEVSRVVNLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pblR5cGUuRVRIRVJFVU1fS09WQU4udG9Mb3dlckNhc2UoKTpcclxuICAgIGNhc2UgZGNlbnRDb2luVHlwZS5SU0sudG9Mb3dlckNhc2UoKTpcclxuICAgIGNhc2UgZGNlbnRDb2luVHlwZS5SU0tfVEVTVE5FVC50b0xvd2VyQ2FzZSgpOlxyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSBkY2VudENvaW5UeXBlLlhEQy50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5UeXBlLlhEQ19BUE9USEVNLnRvTG93ZXJDYXNlKCk6XHJcbiAgICAgIHRvID0gWERDUHJlZml4Q29udmVydGVyKHRvKVxyXG4gICAgICBicmVha1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgdGhyb3cgZGNlbnQuZGNlbnRFeGNlcHRpb24oJ2NvaW5fdHlwZV9lcnJvcicsICdub3Qgc3VwcG9ydGVkIGNvaW4gdHlwZScpXHJcbiAgfVxyXG5cclxuICByZXR1cm4gYXdhaXQgZGNlbnQuY2FsbCh7XHJcbiAgICBtZXRob2Q6ICdnZXRFdGhlcmV1bVNpZ25lZFRyYW5zYWN0aW9uJyxcclxuICAgIHBhcmFtczoge1xyXG4gICAgICBjb2luVHlwZTogY29pblR5cGUsXHJcbiAgICAgIG5vbmNlOiBub25jZSxcclxuICAgICAgZ2FzX3ByaWNlOiBnYXNQcmljZSxcclxuICAgICAgZ2FzX2xpbWl0OiBnYXNMaW1pdCxcclxuICAgICAgdG86IHRvLFxyXG4gICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgIGtleToga2V5LFxyXG4gICAgICBjaGFpbl9pZDogY2hhaW5JZFxyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHNpZ25lZCB2YWx1ZSBvZiBUb2tlbiB0cmFuc2FjdGlvbi4gSWYgeW91IHdhbnQgdG8gZ2V0IHNpZ24gdmFsdWUgb2YgXCJFUkMyMFwiIG9yIFwiUlJDMjBcIiB0cmFuc2FjdGlvbiwgbXVzdCBjYWxsIHRoaXMgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0b2tlbiB0b2tlbihjb2luKSB0eXBlIG9mIGEgdHJhbnNhY3Rpb24gKGBFUkMyMGAgb3IgYFJSQzIwYCkuIGNvaW4gdHlwZSBcclxuICogQHBhcmFtIHtzdHJpbmd9IG5vbmNlIGFjY291bnQgbm9uY2VcclxuICogQHBhcmFtIHtzdHJpbmd9IGdhc1ByaWNlIEdBUyBwcmljZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZ2FzTGltaXQgR0FTIGxpbWl0IFxyXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IGtleSBwYXRoIChCSVA0NClcclxuICogQHBhcmFtIHtudW1iZXJ9IGNoYWluSWQgY2hhaW4gaWRcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRyYWN0IGNvbnRyYWN0IEFkZHJlc3MgXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IHNpZ25lZCB0cmFuc2FjdGlvbiB2YWx1ZVxyXG4gKi9cclxuZGNlbnQuZ2V0VG9rZW5TaWduZWRUcmFuc2FjdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIChcclxuICB0b2tlbixcclxuICBub25jZSxcclxuICBnYXNQcmljZSxcclxuICBnYXNMaW1pdCxcclxuICBrZXksXHJcbiAgY2hhaW5JZCxcclxuICBjb250cmFjdFxyXG4pIHtcclxuXHJcbiAgdHJ5IHtcclxuICAgIG5vbmNlID0gY2hlY2tQYXJhbWV0ZXIoJ251bWJlclN0cmluZycsIG5vbmNlKVxyXG4gICAgZ2FzUHJpY2UgPSBjaGVja1BhcmFtZXRlcignbnVtYmVyU3RyaW5nJywgZ2FzUHJpY2UpXHJcbiAgICBnYXNMaW1pdCA9IGNoZWNrUGFyYW1ldGVyKCdudW1iZXJTdHJpbmcnLCBnYXNMaW1pdClcclxuICAgIGNvbnRyYWN0LnZhbHVlID0gY2hlY2tQYXJhbWV0ZXIoJ251bWJlclN0cmluZycsIGNvbnRyYWN0LnZhbHVlKVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvclxyXG4gIH1cclxuXHJcbiAgaWYgKFxyXG4gICAgdHlwZW9mIGNoYWluSWQgIT09ICdudW1iZXInIHx8XHJcbiAgICB0eXBlb2YgY29udHJhY3QuZGVjaW1hbHMgIT09ICdudW1iZXInXHJcbiAgKSB7XHJcbiAgICB0aHJvdyBkY2VudC5kY2VudEV4Y2VwdGlvbigncGFyYW1fZXJyb3InLCAnSW52YWlsZCBQYXJhbWV0ZXInKVxyXG4gIH1cclxuXHJcbiAgc3dpdGNoICh0b2tlbi50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICBjYXNlIGRjZW50Q29pblR5cGUuRVJDMjAudG9Mb3dlckNhc2UoKTpcclxuICAgIGNhc2UgZGNlbnRDb2luVHlwZS5FUkMyMF9LT1ZBTi50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5UeXBlLlJSQzIwLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pblR5cGUuUlJDMjBfVEVTVE5FVC50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5Hcm91cC5LTEFZVE5fS0NULnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pbkdyb3VwLktDVF9CQU9CQUIudG9Mb3dlckNhc2UoKTpcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgZGNlbnRDb2luVHlwZS5YUkMyMC50b0xvd2VyQ2FzZSgpOlxyXG4gICAgY2FzZSBkY2VudENvaW5UeXBlLlhSQzIwX0FQT1RIRU0udG9Mb3dlckNhc2UoKTpcclxuICAgICAgY29udHJhY3QudG8gPSBYRENQcmVmaXhDb252ZXJ0ZXIoY29udHJhY3QudG8pXHJcbiAgICAgIGNvbnRyYWN0LmFkZHJlc3MgPSBYRENQcmVmaXhDb252ZXJ0ZXIoY29udHJhY3QuYWRkcmVzcylcclxuICAgICAgYnJlYWtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHRocm93IGRjZW50LmRjZW50RXhjZXB0aW9uKCdjb2luX3R5cGVfZXJyb3InLCAnbm90IHN1cHBvcnRlZCB0b2tlbiB0eXBlJylcclxuICB9XHJcblxyXG4gIHJldHVybiBhd2FpdCBkY2VudC5jYWxsKHtcclxuICAgIG1ldGhvZDogJ2dldFRva2VuU2lnbmVkVHJhbnNhY3Rpb24nLFxyXG4gICAgcGFyYW1zOiB7XHJcbiAgICAgIHRva2VuOiB0b2tlbixcclxuICAgICAgbm9uY2U6IG5vbmNlLFxyXG4gICAgICBnYXNfcHJpY2U6IGdhc1ByaWNlLFxyXG4gICAgICBnYXNfbGltaXQ6IGdhc0xpbWl0LFxyXG4gICAgICBrZXk6IGtleSxcclxuICAgICAgY2hhaW5faWQ6IGNoYWluSWQsXHJcbiAgICAgIGNvbnRyYWN0OiBjb250cmFjdFxyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIFNpZ25hdHVyZSB2YWx1ZSB0aGF0IHNpZ24gdGhlIHVzZXIgbWVzc2FnZSB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIHByaXZhdGUga2V5IHdpdGggdGhlIGdpdmVuIGtleSBwYXRoIChCSVAzMikgXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBNZXNzYWdlIHRvIGJlIFNpZ25lZFxyXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IHN0cmluZyB2YWx1ZSBvZiBrZXkgcGF0aCB0byBnZXQgYWRkcmVzc1xyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBldGhlcmV1bSBBZGRyZXNzICYgU2lnbmF0dXJlIGZvciB1c2VyIG1lc3NhZ2UuXHJcbiAqL1xyXG5kY2VudC5nZXRFdGhlcmV1bVNpZ25lZE1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbiAobWVzc2FnZSwga2V5KSB7XHJcbiAgcmV0dXJuIGF3YWl0IGRjZW50LmNhbGwoe1xyXG4gICAgbWV0aG9kOiAnZ2V0RXRoZXJldW1TaWduZWRNZXNzYWdlJyxcclxuICAgIHBhcmFtczoge1xyXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlLFxyXG4gICAgICBrZXk6IGtleVxyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGtsYXl0biAvIEtDVCBzaWduZWQgdHJhbnNhY3Rpb24uIElmIHlvdSB3YW50IHRvIGdldCBzaWduIHZhbHVlIG9mIFwiS0xBWVROXCIgb3IgXCJLQ1RcIiB0cmFuc2FjdGlvbiwgbXVzdCBjYWxsIHRoaXMgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2luVHlwZSBjb2luIHR5cGUgXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eFR5cGUgdHJhbnNhY3Rpb24gdHlwZSBcclxuICogQHBhcmFtIHtzdHJpbmd9IG5vbmNlIGFjY291bnQgbm9uY2VcclxuICogQHBhcmFtIHtzdHJpbmd9IGdhc1ByaWNlIEdBUyBwcmljZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZ2FzTGltaXQgR0FTIGxpbWl0IFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdG8gcmVjaXBpZW50J3MgYWRkcmVzc1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgYW1vdW50IG9mIGV0aGVyIHRvIGJlIHNlbnQuICggV0VJIHVuaXQgdmFsdWUgKVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YSB0cmFuc2FjdGlvbiBkYXRhIChleDogXCIweFwiKVxyXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IGtleSBwYXRoIChCSVA0NClcclxuICogQHBhcmFtIHtudW1iZXJ9IGNoYWluSWQgY2hhaW4gaWRcclxuICogQHBhcmFtIHtzdHJpbmd9IGZlZVJhdGlvIGZlZSByYXRpb1xyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBzaWduZWQgdHJhbnNhY3Rpb24gdmFsdWVcclxuICovXHJcbmRjZW50LmdldEtsYXl0blNpZ25lZFRyYW5zYWN0aW9uID0gYXN5bmMgZnVuY3Rpb24gKFxyXG4gIGNvaW5UeXBlLFxyXG4gIG5vbmNlLFxyXG4gIGdhc1ByaWNlLFxyXG4gIGdhc0xpbWl0LFxyXG4gIHRvLFxyXG4gIHZhbHVlLFxyXG4gIGRhdGEsXHJcbiAga2V5LFxyXG4gIGNoYWluSWQsXHJcbiAgdHhUeXBlLFxyXG4gIGZyb20sICBcclxuICBmZWVSYXRpbyxcclxuICBjb250cmFjdFxyXG4pIHtcclxuICBcclxuICB0cnkge1xyXG4gICAgbm9uY2UgPSBjaGVja1BhcmFtZXRlcignbnVtYmVyU3RyaW5nJywgbm9uY2UpXHJcbiAgICBnYXNQcmljZSA9IGNoZWNrUGFyYW1ldGVyKCdudW1iZXJTdHJpbmcnLCBnYXNQcmljZSlcclxuICAgIGdhc0xpbWl0ID0gY2hlY2tQYXJhbWV0ZXIoJ251bWJlclN0cmluZycsIGdhc0xpbWl0KVxyXG4gICAgdmFsdWUgPSBjaGVja1BhcmFtZXRlcignbnVtYmVyU3RyaW5nJywgdmFsdWUpXHJcbiAgICBpZiAoY29udHJhY3QpIHtcclxuICAgICAgY29udHJhY3QuZGVjaW1hbHMgPSBjaGVja1BhcmFtZXRlcignbnVtYmVyU3RyaW5nJywgY29udHJhY3QuZGVjaW1hbHMpXHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IGVycm9yXHJcbiAgfVxyXG4gIFxyXG4gIGlmICh0eXBlb2YgY2hhaW5JZCAhPT0gJ251bWJlcicpIHtcclxuICAgIHRocm93IGRjZW50LmRjZW50RXhjZXB0aW9uKCdwYXJhbV9lcnJvcicsICdJbnZhaWxkIFBhcmFtZXRlciBjaGFpbklkIC0gJyArIGNoYWluSWQpXHJcbiAgfVxyXG4gXHJcbiAgc3dpdGNoIChjb2luVHlwZS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICBjYXNlIGRjZW50Q29pblR5cGUuS0xBWVROLnRvTG93ZXJDYXNlKCk6XHJcbiAgICBjYXNlIGRjZW50Q29pblR5cGUuS0xBWV9CQU9CQUIudG9Mb3dlckNhc2UoKTpcclxuICAgICAgY29pblR5cGUgPSBkY2VudENvaW5UeXBlLktMQVlUTlxyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSBkY2VudENvaW5UeXBlLktMQVlUTl9LQ1QudG9Mb3dlckNhc2UoKTpcclxuICAgIGNhc2UgZGNlbnRDb2luVHlwZS5LQ1RfQkFPQkFCLnRvTG93ZXJDYXNlKCk6XHJcbiAgICAgIGNvaW5UeXBlID0gZGNlbnRDb2luVHlwZS5LTEFZVE5fS0NUXHJcbiAgICAgIGJyZWFrXHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICB0aHJvdyBkY2VudC5kY2VudEV4Y2VwdGlvbignY29pbl90eXBlX2Vycm9yJywgJ25vdCBzdXBwb3J0ZWQgY29pbiB0eXBlJylcclxuICB9XHJcbiAgXHJcbiAgaWYgKCF0eFR5cGUpIHtcclxuICAgIHR4VHlwZSA9IGRjZW50S2xheXRuVHhUeXBlLkxFR0FDWVxyXG4gIH1cclxuICBcclxuICBpZiAoIWZyb20pIHtcclxuICAgIGNvbnN0IGFkZHJlc3NSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0QWRkcmVzcyhjb2luVHlwZSwga2V5KVxyXG4gICAgaWYgKGFkZHJlc3NSZXNwb25zZS5ib2R5LnBhcmFtZXRlci5hZGRyZXNzKSB7XHJcbiAgICAgIGZyb20gPSBhZGRyZXNzUmVzcG9uc2UuYm9keS5wYXJhbWV0ZXIuYWRkcmVzc1xyXG4gICAgfVxyXG4gIH1cclxuIFxyXG4gIHJldHVybiBhd2FpdCBkY2VudC5jYWxsKHtcclxuICAgIG1ldGhvZDogJ2dldEtsYXl0blNpZ25lZFRyYW5zYWN0aW9uJyxcclxuICAgIHBhcmFtczoge1xyXG4gICAgICBjb2luVHlwZTogY29pblR5cGUsXHJcbiAgICAgIG5vbmNlOiBub25jZSxcclxuICAgICAgZ2FzX3ByaWNlOiBnYXNQcmljZSxcclxuICAgICAgZ2FzX2xpbWl0OiBnYXNMaW1pdCxcclxuICAgICAgdG86IHRvLFxyXG4gICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgIGtleToga2V5LFxyXG4gICAgICBjaGFpbl9pZDogY2hhaW5JZCxcclxuICAgICAgdHhfdHlwZTogdHhUeXBlLCAgICAgIFxyXG4gICAgICBmcm9tOiBmcm9tLFxyXG4gICAgICBmZWVfcmF0aW86IGZlZVJhdGlvLFxyXG4gICAgICBjb250cmFjdDogY29udHJhY3QsXHJcbiAgICB9XHJcbiAgfSlcclxufVxyXG5cclxuZGNlbnQuZ2V0U2lnbmVkTWVzc2FnZSA9IGFzeW5jIGZ1bmN0aW9uIChjb2luVHlwZSwga2V5LCBtZXNzYWdlKSB7XHJcbiAgcmV0dXJuIGF3YWl0IGRjZW50LmNhbGwoe1xyXG4gICAgbWV0aG9kOiAnZ2V0U2lnbmVkTWVzc2FnZScsXHJcbiAgICBwYXJhbXM6IHtcclxuICAgICAgY29pblR5cGU6IGNvaW5UeXBlLFxyXG4gICAgICBrZXk6IGtleSxcclxuICAgICAgbWVzc2FnZTogbWVzc2FnZSxcclxuICAgIH1cclxuICB9KVxyXG59XHJcblxyXG5kY2VudC5nZXRTaWduZWREYXRhID0gYXN5bmMgZnVuY3Rpb24gKGtleSwgbWVzc2FnZSkge1xyXG4gIHJldHVybiBhd2FpdCBkY2VudC5jYWxsKHtcclxuICAgIG1ldGhvZDogJ2dldFNpZ25lZERhdGEnLFxyXG4gICAgcGFyYW1zOiB7XHJcbiAgICAgIGtleToga2V5LFxyXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlLFxyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIFhSUCBzaWduRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gdHJhbnNhY3Rpb24gdG8gYmUgc2lnblxyXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IGtleSBwYXRoIChCSVA0NCkgZXgpIFwibS80NCcvMTQ0Jy8wJy8wLzBcIlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBTaWduRGF0YSB7c2lnbjonc3RyaW5nJywgcHVia2V5OidzdHJpbmcnLCBhY2NvdW50SWQ6J3N0cmluZycgfSBpbiBib2R5LnBhcmFtZXRlclxyXG4gKi9cclxuZGNlbnQuZ2V0WHJwU2lnbmVkVHJhbnNhY3Rpb24gPSBhc3luYyBmdW5jdGlvbiAodHJhbnNhY3Rpb24sIGtleSkge1xyXG4gIHRyeSB7XHJcbiAgICBpZiAodHlwZW9mIHRyYW5zYWN0aW9uLkFjY291bnQgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0cmFuc2FjdGlvbi5UcmFuc2FjdGlvblR5cGUgIT09ICdzdHJpbmcnIHx8XHJcbiAgICAgICAgdHlwZW9mIHRyYW5zYWN0aW9uLkZlZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHRyYW5zYWN0aW9uLlNlcXVlbmNlICE9PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgdGhyb3cgZGNlbnQuZGNlbnRFeGNlcHRpb24oJ3BhcmFtX2Vycm9yJywgJ1R5cGVFcnJvcjogUmVxdWlyZWQgZmllbGQgdHlwZSBpcyBub3QgbWF0Y2hlZCcpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh0eXBlb2YgZGNlbnRYcnBUeFR5cGVbdHJhbnNhY3Rpb24uVHJhbnNhY3Rpb25UeXBlXSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgdGhyb3cgZGNlbnQuZGNlbnRFeGNlcHRpb24oJ3BhcmFtX2Vycm9yJywgJ0ludmFsaWQgVHJhbnNhY3Rpb24gVHlwZTogJyArIHRyYW5zYWN0aW9uLlRyYW5zYWN0aW9uVHlwZSlcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1BhcmFtZXRlcignbnVtYmVyU3RyaW5nJywgdHJhbnNhY3Rpb24uRmVlKVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBlcnJvclxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGF3YWl0IGRjZW50LmNhbGwoe1xyXG4gICAgbWV0aG9kOiAnZ2V0WHJwU2lnbmVkVHJhbnNhY3Rpb24nLFxyXG4gICAgcGFyYW1zOiB7XHJcbiAgICAgIGtleToga2V5LFxyXG4gICAgICB0cmFuc2FjdGlvbjogdHJhbnNhY3Rpb25cclxuICAgIH1cclxuICB9KVxyXG59XHJcblxyXG5kY2VudC5zdGF0ZSA9IGRjZW50U3RhdGVcclxuZGNlbnQuY29pblR5cGUgPSBkY2VudENvaW5UeXBlXHJcbmRjZW50LmNvaW5Hcm91cCA9IGRjZW50Q29pbkdyb3VwXHJcbmRjZW50LmNvaW5OYW1lID0gZGNlbnRDb2luTmFtZVxyXG5kY2VudC5iaXRjb2luVHhUeXBlID0gZGNlbnRCaXRjb2luVHhUeXBlXHJcbmRjZW50LmtsYXl0blR4VHlwZSA9IGRjZW50S2xheXRuVHhUeXBlXHJcbmRjZW50LnhycFR4VHlwZSA9IGRjZW50WHJwVHhUeXBlXHJcbi8vICMgXHJcbi8vIE5vdywgQml0Y29pbiBUcmFuc2FjdGlvbiBub3Qgc3VwcG9ydCBcclxuLy8gZGNlbnQuYml0Y29pblR4VHlwZSA9IGRjZW50Qml0Y29pblR4VHlwZVxyXG5cclxuY29uc3QgRGNlbnRXZWJDb25uZWN0b3IgPSBkY2VudFxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBEY2VudFdlYkNvbm5lY3Rvci8vIGZvciBub2RlanNcclxuXHJcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gIHdpbmRvdy5EY2VudFdlYkNvbm5lY3RvciA9IGRjZW50IC8vIGZvciBpbmxpbmUgc2NyaXB0XHJcbiAgd2luZG93LkRjZW50V2ViQ29ubmVjdG9yLnN0YXRlID0gZGNlbnRTdGF0ZVxyXG4gIHdpbmRvdy5EY2VudFdlYkNvbm5lY3Rvci5jb2luVHlwZSA9IGRjZW50Q29pblR5cGVcclxuICB3aW5kb3cuRGNlbnRXZWJDb25uZWN0b3IuY29pbkdyb3VwID0gZGNlbnRDb2luR3JvdXBcclxuICB3aW5kb3cuRGNlbnRXZWJDb25uZWN0b3IuY29pbk5hbWUgPSBkY2VudENvaW5OYW1lXHJcbiAgd2luZG93LkRjZW50V2ViQ29ubmVjdG9yLmJpdGNvaW5UeFR5cGUgPSBkY2VudEJpdGNvaW5UeFR5cGVcclxuICB3aW5kb3cuRGNlbnRXZWJDb25uZWN0b3Iua2xheXRuVHhUeXBlID0gZGNlbnRLbGF5dG5UeFR5cGVcclxufVxyXG4iLCIndXNlIHN0cmljdCdcclxuXHJcbmNvbnN0IGNvaW5UeXBlID0ge1xyXG4gIEJJVENPSU46ICdiaXRjb2luJyxcclxuICBCSVRDT0lOX1RFU1RORVQ6ICdiaXRjb2luLXRlc3RuZXQnLFxyXG4gIEVSQzIwOiAnZXJjMjAnLFxyXG4gIEVSQzIwX0tPVkFOOiAnZXJjMjAnLFxyXG4gIEVUSEVSRVVNOiAnZXRoZXJldW0nLFxyXG4gIEVUSEVSRVVNX0tPVkFOOiAnZXRoZXJldW0nLFxyXG4gIEtMQVlUTjogJ2tsYXl0bicsXHJcbiAgS0xBWV9CQU9CQUI6ICdrbGF5dG4tdGVzdG5ldCcsXHJcbiAgS0xBWVROX0tDVDogJ2tsYXl0bi1lcmMyMCcsXHJcbiAgS0NUX0JBT0JBQjogJ2tyYzIwLXRlc3RuZXQnLFxyXG4gIE1PTkFDT0lOOiAnbW9uYWNvaW4nLFxyXG4gIE1PTkFDT0lOX1RFU1RORVQ6ICdtb25hY29pbi10ZXN0bmV0JyxcclxuICBSSVBQTEU6ICdyaXBwbGUnLFxyXG4gIFJJUFBMRV9URVNUTkVUOiAnJyxcclxuICBSUkMyMDogJ3JyYzIwJyxcclxuICBSUkMyMF9URVNUTkVUOiAncnJjMjAnLFxyXG4gIFJTSzogJ3JzaycsXHJcbiAgUlNLX1RFU1RORVQ6ICdyc2stdGVzdG5ldCcsXHJcbiAgWERDOiAneGluZmluJyxcclxuICBYUkMyMDogJ3hyYzIwJyxcclxuICBYRENfQVBPVEhFTTogJ3hpbmZpbicsXHJcbiAgWFJDMjBfQVBPVEhFTTogJ3hyYzIwJyxcclxufVxyXG5cclxuY29uc3QgY29pbkdyb3VwID0ge1xyXG4gIEJJVENPSU46ICdCSVRDT0lOJyxcclxuICBCSVRDT0lOX1RFU1RORVQ6ICdCVEMtVEVTVE5FVCcsXHJcbiAgRVJDMjA6ICdFUkMyMCcsXHJcbiAgRVJDMjBfS09WQU46ICdFUkMyMF9LT1ZBTicsXHJcbiAgRVRIRVJFVU06ICdFVEhFUkVVTScsXHJcbiAgRVRIRVJFVU1fS09WQU46ICdFVEgtS09WQU4nLFxyXG4gIEtMQVlUTjogJ0tMQVlUTicsXHJcbiAgS0xBWV9CQU9CQUI6ICdLTEFZVE4tVEVTVE5FVCcsXHJcbiAgS0xBWVROX0tDVDogJ0tMQVlUTi1FUkMyMCcsXHJcbiAgS0NUX0JBT0JBQjogJ0tSQzIwLVRFU1RORVQnLFxyXG4gIE1PTkFDT0lOOiAnTU9OQUNPSU4nLFxyXG4gIE1PTkFDT0lOX1RFU1RORVQ6ICdNT05BLVRFU1RORVQnLFxyXG4gIFJJUFBMRTogJ1JJUFBMRScsXHJcbiAgUklQUExFX1RFU1RORVQ6ICdYUlAtVEVTVE5FVCcsXHJcbiAgUlJDMjA6ICdSUkMyMCcsXHJcbiAgUlJDMjBfVEVTVE5FVDogJ1JSQzIwLVRFU1RORVQnLFxyXG4gIFJTSzogJ1JTSycsXHJcbiAgUlNLX1RFU1RORVQ6ICdSU0stVEVTVE5FVCcsXHJcbiAgWERDOiAnWElORklOJyxcclxuICBYUkMyMDogJ1hSQzIwJyxcclxuICBYRENfQVBPVEhFTTogJ1hEQy1BUE9USEVNJyxcclxuICBYUkMyMF9BUE9USEVNOiAnWFJDMjAtQVBPVEhFTScsXHJcbn1cclxuXHJcbmNvbnN0IGNvaW5OYW1lID0ge1xyXG4gIEJJVENPSU46ICdCSVRDT0lOJyxcclxuICBCSVRDT0lOX1RFU1RORVQ6ICdCVEMtVEVTVE5FVCcsXHJcbiAgRVJDMjA6ICcnLFxyXG4gIEVSQzIwX0tPVkFOOiAnJyxcclxuICBFVEhFUkVVTTogJ0VUSEVSRVVNJyxcclxuICBFVEhFUkVVTV9LT1ZBTjogJ0VUSC1LT1ZBTicsXHJcbiAgS0xBWVROOiAnS0xBWVROJyxcclxuICBLTEFZX0JBT0JBQjogJ0tMQVlUTi1URVNUTkVUJyxcclxuICBLTEFZVE5fS0NUOiAnJyxcclxuICBLQ1RfQkFPQkFCOiAnJyxcclxuICBNT05BQ09JTjogJ01PTkFDT0lOJyxcclxuICBNT05BQ09JTl9URVNUTkVUOiAnTU9OQS1URVNUTkVUJyxcclxuICBSSVBQTEU6ICdSSVBQTEUnLFxyXG4gIFJJUFBMRV9URVNUTkVUOiAnWFJQLVRFU1RORVQnLFxyXG4gIFJSQzIwOiAnJyxcclxuICBSUkMyMF9URVNUTkVUOiAnJyxcclxuICBSU0s6ICdSU0snLFxyXG4gIFJTS19URVNUTkVUOiAnUlNLLVRFU1RORVQnLFxyXG4gIFhEQzogJ1hJTkZJTicsXHJcbiAgWFJDMjA6ICcnLFxyXG4gIFhEQ19BUE9USEVNOiAnWERDLUFQT1RIRU0nLFxyXG4gIFhSQzIwX0FQT1RIRU06ICcnLFxyXG59XHJcblxyXG5jb25zdCBiaXRjb2luVHhUeXBlID0ge1xyXG4gIGNoYW5nZTogJ2NoYW5nZScsXHJcbiAgcDJwazogJ3AycGsnLFxyXG4gIHAycGtoOiAncDJwa2gnLFxyXG4gIHAyc2g6ICdwMnNoJyxcclxuICBtdWx0aXNpZzogJ211bHRpc2lnJyxcclxuICBwMndwa2g6ICdwMndwa2gnLFxyXG4gIHAyd3NoOiAncDJ3c2gnXHJcbn1cclxuXHJcbmNvbnN0IGtsYXl0blR4VHlwZSA9IHtcclxuICBMRUdBQ1k6IDB4RkYsXHJcblx0RkVFX1BBWUVSOiAweEVFLFxyXG5cclxuXHRWQUxVRV9UUkFOU0ZFUjogMHgwOCxcclxuXHRGRUVfREVMRUdBVEVEX1ZBTFVFX1RSQU5TRkVSOiAweDA5LFxyXG5cdEZFRV9ERUxFR0FURURfVkFMVUVfVFJBTlNGRVJfV0lUSF9SQVRJTzogMHgwQSxcclxuXHJcblx0VkFMVUVfVFJBTlNGRVJfTUVNTzogMHgxMCxcclxuICBGRUVfREVMRUdBVEVEX1ZBTFVFX1RSQU5TRkVSX01FTU86IDB4MTEsXHJcbiAgRkVFX0RFTEVHQVRFRF9WQUxVRV9UUkFOU0ZFUl9NRU1PX1dJVEhfUkFUSU86IDB4MTIsXHJcbiAgXHJcbiAgU01BUlRfQ09OVFJBQ1RfREVQTE9ZOiAweDI4LFxyXG4gIEZFRV9ERUxFR0FURURfU01BUlRfQ09OVFJBQ1RfREVQTE9ZOiAweDI5LFxyXG4gIEZFRV9ERUxFR0FURURfU01BUlRfQ09OVFJBQ1RfREVQTE9ZX1dJVEhfUkFUSU86IDB4MkEsXHJcblxyXG5cdFNNQVJUX0NPTlRSQUNUX0VYRUNVVElPTjogMHgzMCxcclxuXHRGRUVfREVMRUdBVEVEX1NNQVJUX0NPTlRSQUNUX0VYRUNVVElPTjogMHgzMSxcclxuXHRGRUVfREVMRUdBVEVEX1NNQVJUX0NPTlRSQUNUX0VYRUNVVElPTl9XSVRIX1JBVElPOiAweDMyLFxyXG5cclxuXHRDQU5DRUw6IDB4MzgsXHJcblx0RkVFX0RFTEVHQVRFRF9DQU5DRUw6IDB4MzksXHJcblx0RkVFX0RFTEVHQVRFRF9DQU5DRUxfV0lUSF9SQVRJTzogMHgzQSxcclxufVxyXG5cclxuY29uc3QgeHJwVHhUeXBlID0ge1xyXG4gIEFjY291bnRTZXQ6ICdBY2NvdW50U2V0JywgXHJcbiAgQWNjb3VudERlbGV0ZTogJ0FjY291bnREZWxldGUnLCBcclxuICBDaGVja0NhbmNlbDogJ0NoZWNrQ2FuY2VsJywgXHJcbiAgQ2hlY2tDYXNoOiAnQ2hlY2tDYXNoJywgXHJcbiAgQ2hlY2tDcmVhdGU6ICdDaGVja0NyZWF0ZScsIFxyXG4gIERlcG9zaXRQcmVhdXRoOiAnRGVwb3NpdFByZWF1dGgnLFxyXG4gIEVzY3Jvd0NhbmNlbDogJ0VzY3Jvd0NhbmNlbCcsIFxyXG4gIEVzY3Jvd0NyZWF0ZTogJ0VzY3Jvd0NyZWF0ZScsIFxyXG4gIEVzY3Jvd0ZpbmlzaDogJ0VzY3Jvd0ZpbmlzaCcsIFxyXG4gIE9mZmVyQ2FuY2VsOiAnT2ZmZXJDYW5jZWwnLCBcclxuICBPZmZlckNyZWF0ZTogJ09mZmVyQ3JlYXRlJywgXHJcbiAgUGF5bWVudDogJ1BheW1lbnQnLFxyXG4gIFBheW1lbnRDaGFubmVsQ2xhaW06ICdQYXltZW50Q2hhbm5lbENsYWltJywgXHJcbiAgUGF5bWVudENoYW5uZWxDcmVhdGU6ICdQYXltZW50Q2hhbm5lbENyZWF0ZScsIFxyXG4gIFBheW1lbnRDaGFubmVsRnVuZDogJ1BheW1lbnRDaGFubmVsRnVuZCcsIFxyXG4gIFNldFJlZ3VsYXJLZXk6ICdTZXRSZWd1bGFyS2V5JywgXHJcbiAgU2lnbmVyTGlzdFNldDogJ1NpZ25lckxpc3RTZXQnLCBcclxuICBUcnVzdFNldDogJ1RydXN0U2V0J1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBjb2luVHlwZSxcclxuICBjb2luR3JvdXAsXHJcbiAgY29pbk5hbWUsXHJcbiAgYml0Y29pblR4VHlwZSxcclxuICBrbGF5dG5UeFR5cGUsXHJcbiAgeHJwVHhUeXBlLFxyXG59XHJcbiIsImNvbnN0IHN0YXRlID0ge1xyXG4gICAgQ09OTkVDVEVEOiAnZGNlbnQtY29ubmVjdGVkJyxcclxuICAgIERJU0NPTk5FQ1RFRDogJ2RjZW50LWRpc2Nvbm5lY3RlZCcsXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgc3RhdGUsXHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnXHJcblxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgdGltZU91dE1zOiA2MDAwMCxcclxuICBwb3BVcFVybDogJ2h0dHBzOi8vYnJpZGdlLmRjZW50d2FsbGV0LmNvbS92MidcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgY29uZmlnXHJcbn1cclxuIiwiY29uc3QgaXNEZWJ1ZyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbidcclxuY29uc3QgaXNUZXN0ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0J1xyXG5cclxuY29uc3Qgbm9ybWFsaXplQ2FsbGVyTGluZSA9IChsaW5lKSA9PiB7XHJcbiAgICBpZiAobGluZS5pbmRleE9mKCdhdCAnKSA8IDApIHtcclxuICAgICAgICByZXR1cm4gbGluZVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBpbmRleCA9IGxpbmUuaW5kZXhPZignYXQgJylcclxuICAgIHZhciBjbGVhbiA9IGxpbmUuc2xpY2UoaW5kZXggKyAzLCBsaW5lLmxlbmd0aClcclxuICAgIHZhciBibG9jayA9IGNsZWFuLnNwbGl0KCcgJylcclxuICAgIC8vIGNvbnNvbGUubG9nKGJsb2NrKVxyXG5cclxuICAgIHZhciBmdW5jTmFtZSA9IGJsb2NrWzBdXHJcbiAgICB2YXIgZmlsZVBhdGggPSBibG9ja1sxXVxyXG4gICAgdmFyIG5vcm1hbGl6ZWQgPSAnJ1xyXG4gICAgdmFyIHBhdGhBcnJheSA9IGZpbGVQYXRoLnNwbGl0KC9cXFxcfFxcLy8pXHJcbiAgICBub3JtYWxpemVkID0gcGF0aEFycmF5W3BhdGhBcnJheS5sZW5ndGggLSAxXVxyXG4gICAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQucmVwbGFjZSgnKScsICcnKVxyXG4gICAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQgKyAnOicgKyBmdW5jTmFtZVxyXG5cclxuICAgIHJldHVybiBub3JtYWxpemVkXHJcbn1cclxuXHJcbmxldCBpbmZvID0gY29uc29sZS5sb2cuYmluZChjb25zb2xlLCAnW0lORk9dICcpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxyXG5pZiAoaXNUZXN0KSB7XHJcbiAgICBpbmZvID0gKCkgPT4geyB9XHJcbn1cclxuXHJcbmxldCBkZWJ1ZyA9IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSwgJ1tERUJVR10gJykgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXHJcbmlmICghaXNEZWJ1Zykge1xyXG4gICAgZGVidWcgPSAoKSA9PiB7IH1cclxufVxyXG5pZiAoaXNUZXN0KSB7XHJcbiAgICBkZWJ1ZyA9ICgpID0+IHsgfVxyXG59XHJcblxyXG5jb25zdCB3YXJuID0gY29uc29sZS53YXJuLmJpbmQoY29uc29sZSwgJ1tXQVJOXSAnKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcclxuY29uc3QgZXJyb3IgPSBjb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSwgJ1tFUlJPUl0gJykgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXHJcbmNvbnN0IHRlc3QgPSBjb25zb2xlLndhcm4uYmluZChjb25zb2xlLCAnW1RFU1RdICcpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxyXG5cclxuY29uc3QgTk9UX0lNUExFTUVOVEVEID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNhbGxlckxpbmUgPSAobmV3IEVycm9yKCkpLnN0YWNrLnRvU3RyaW5nKCkuc3BsaXQoL1xcclxcbnxcXG4vKVsyXVxyXG4gICAgdmFyIGNsZWFuID0gbm9ybWFsaXplQ2FsbGVyTGluZShjYWxsZXJMaW5lKVxyXG4gICAgY29uc29sZS5sb2coJ1tOT1RfSU1QTEVNRU5URURdJyArIGNsZWFuKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcclxuICAgIHRocm93IG5ldyBFcnJvcignTk9UX0lNUExFTUVOVEVEJylcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICB0ZXN0LFxyXG4gICAgaW5mbyxcclxuICAgIGRlYnVnLFxyXG4gICAgd2FybixcclxuICAgIGVycm9yLFxyXG4gICAgTk9UX0lNUExFTUVOVEVELFxyXG59XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gKHN0cikgPT4ge1xyXG4gIGlmICghc3RyLnN0YXJ0c1dpdGgoJzB4JykpIHtcclxuICAgIGlmIChzdHIuc3RhcnRzV2l0aCgneGRjJykpIHtcclxuICAgICAgc3RyID0gJzB4JyArIHN0ci5zdWJzdHJpbmcoMylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHN0ciA9ICcweCcgKyBzdHIuYWRkcmVzc1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gc3RyXHJcbn1cclxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHNDb3VudCA9IDA7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbnZhciBkZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbmZ1bmN0aW9uIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgbGlzdGVuZXIpO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIsICdkZWZhdWx0TWF4TGlzdGVuZXJzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkZWZhdWx0TWF4TGlzdGVuZXJzO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnICE9PSAnbnVtYmVyJyB8fCBhcmcgPCAwIHx8IE51bWJlcklzTmFOKGFyZykpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIGFyZyArICcuJyk7XG4gICAgfVxuICAgIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSBhcmc7XG4gIH1cbn0pO1xuXG5FdmVudEVtaXR0ZXIuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gIGlmICh0aGlzLl9ldmVudHMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgdGhpcy5fZXZlbnRzID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50cykge1xuICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn07XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycyhuKSB7XG4gIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgbiA8IDAgfHwgTnVtYmVySXNOYU4obikpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiblwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBuICsgJy4nKTtcbiAgfVxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIF9nZXRNYXhMaXN0ZW5lcnModGhhdCkge1xuICBpZiAodGhhdC5fbWF4TGlzdGVuZXJzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICByZXR1cm4gdGhhdC5fbWF4TGlzdGVuZXJzO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIGdldE1heExpc3RlbmVycygpIHtcbiAgcmV0dXJuIF9nZXRNYXhMaXN0ZW5lcnModGhpcyk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KHR5cGUpIHtcbiAgdmFyIGFyZ3MgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICB2YXIgZG9FcnJvciA9ICh0eXBlID09PSAnZXJyb3InKTtcblxuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpXG4gICAgZG9FcnJvciA9IChkb0Vycm9yICYmIGV2ZW50cy5lcnJvciA9PT0gdW5kZWZpbmVkKTtcbiAgZWxzZSBpZiAoIWRvRXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKGRvRXJyb3IpIHtcbiAgICB2YXIgZXI7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gMClcbiAgICAgIGVyID0gYXJnc1swXTtcbiAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgLy8gTm90ZTogVGhlIGNvbW1lbnRzIG9uIHRoZSBgdGhyb3dgIGxpbmVzIGFyZSBpbnRlbnRpb25hbCwgdGhleSBzaG93XG4gICAgICAvLyB1cCBpbiBOb2RlJ3Mgb3V0cHV0IGlmIHRoaXMgcmVzdWx0cyBpbiBhbiB1bmhhbmRsZWQgZXhjZXB0aW9uLlxuICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgfVxuICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmhhbmRsZWQgZXJyb3IuJyArIChlciA/ICcgKCcgKyBlci5tZXNzYWdlICsgJyknIDogJycpKTtcbiAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgIHRocm93IGVycjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgfVxuXG4gIHZhciBoYW5kbGVyID0gZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFJlZmxlY3RBcHBseShoYW5kbGVyLCB0aGlzLCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgUmVmbGVjdEFwcGx5KGxpc3RlbmVyc1tpXSwgdGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIF9hZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBwcmVwZW5kKSB7XG4gIHZhciBtO1xuICB2YXIgZXZlbnRzO1xuICB2YXIgZXhpc3Rpbmc7XG5cbiAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG5cbiAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0YXJnZXQuX2V2ZW50c0NvdW50ID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAgIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgICBpZiAoZXZlbnRzLm5ld0xpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRhcmdldC5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA/IGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gICAgICAvLyBSZS1hc3NpZ24gYGV2ZW50c2AgYmVjYXVzZSBhIG5ld0xpc3RlbmVyIGhhbmRsZXIgY291bGQgaGF2ZSBjYXVzZWQgdGhlXG4gICAgICAvLyB0aGlzLl9ldmVudHMgdG8gYmUgYXNzaWduZWQgdG8gYSBuZXcgb2JqZWN0XG4gICAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgICB9XG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV07XG4gIH1cblxuICBpZiAoZXhpc3RpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gICAgKyt0YXJnZXQuX2V2ZW50c0NvdW50O1xuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgZXhpc3RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPVxuICAgICAgICBwcmVwZW5kID8gW2xpc3RlbmVyLCBleGlzdGluZ10gOiBbZXhpc3RpbmcsIGxpc3RlbmVyXTtcbiAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB9IGVsc2UgaWYgKHByZXBlbmQpIHtcbiAgICAgIGV4aXN0aW5nLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleGlzdGluZy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICAgIG0gPSBfZ2V0TWF4TGlzdGVuZXJzKHRhcmdldCk7XG4gICAgaWYgKG0gPiAwICYmIGV4aXN0aW5nLmxlbmd0aCA+IG0gJiYgIWV4aXN0aW5nLndhcm5lZCkge1xuICAgICAgZXhpc3Rpbmcud2FybmVkID0gdHJ1ZTtcbiAgICAgIC8vIE5vIGVycm9yIGNvZGUgZm9yIHRoaXMgc2luY2UgaXQgaXMgYSBXYXJuaW5nXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAgIHZhciB3ID0gbmV3IEVycm9yKCdQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5sZW5ndGggKyAnICcgKyBTdHJpbmcodHlwZSkgKyAnIGxpc3RlbmVycyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luY3JlYXNlIGxpbWl0Jyk7XG4gICAgICB3Lm5hbWUgPSAnTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nJztcbiAgICAgIHcuZW1pdHRlciA9IHRhcmdldDtcbiAgICAgIHcudHlwZSA9IHR5cGU7XG4gICAgICB3LmNvdW50ID0gZXhpc3RpbmcubGVuZ3RoO1xuICAgICAgUHJvY2Vzc0VtaXRXYXJuaW5nKHcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG4gICAgfTtcblxuZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gIGlmICghdGhpcy5maXJlZCkge1xuICAgIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSwgdGhpcy53cmFwRm4pO1xuICAgIHRoaXMuZmlyZWQgPSB0cnVlO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk7XG4gICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsIGFyZ3VtZW50cyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX29uY2VXcmFwKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIHN0YXRlID0geyBmaXJlZDogZmFsc2UsIHdyYXBGbjogdW5kZWZpbmVkLCB0YXJnZXQ6IHRhcmdldCwgdHlwZTogdHlwZSwgbGlzdGVuZXI6IGxpc3RlbmVyIH07XG4gIHZhciB3cmFwcGVkID0gb25jZVdyYXBwZXIuYmluZChzdGF0ZSk7XG4gIHdyYXBwZWQubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgc3RhdGUud3JhcEZuID0gd3JhcHBlZDtcbiAgcmV0dXJuIHdyYXBwZWQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UodHlwZSwgbGlzdGVuZXIpIHtcbiAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIHRoaXMub24odHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kT25jZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgIHRoaXMucHJlcGVuZExpc3RlbmVyKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuLy8gRW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmIGFuZCBvbmx5IGlmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICB2YXIgbGlzdCwgZXZlbnRzLCBwb3NpdGlvbiwgaSwgb3JpZ2luYWxMaXN0ZW5lcjtcblxuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGxpc3QgPSBldmVudHNbdHlwZV07XG4gICAgICBpZiAobGlzdCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8IGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0Lmxpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGlzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwb3NpdGlvbiA9IC0xO1xuXG4gICAgICAgIGZvciAoaSA9IGxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHwgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsTGlzdGVuZXIgPSBsaXN0W2ldLmxpc3RlbmVyO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICBpZiAocG9zaXRpb24gPT09IDApXG4gICAgICAgICAgbGlzdC5zaGlmdCgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzcGxpY2VPbmUobGlzdCwgcG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKVxuICAgICAgICAgIGV2ZW50c1t0eXBlXSA9IGxpc3RbMF07XG5cbiAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBvcmlnaW5hbExpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKHR5cGUpIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMsIGV2ZW50cywgaTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRzW3R5cGVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGV2ZW50cyk7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBsaXN0ZW5lcnMgPSBldmVudHNbdHlwZV07XG5cbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgICAgIH0gZWxzZSBpZiAobGlzdGVuZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gTElGTyBvcmRlclxuICAgICAgICBmb3IgKGkgPSBsaXN0ZW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuZnVuY3Rpb24gX2xpc3RlbmVycyh0YXJnZXQsIHR5cGUsIHVud3JhcCkge1xuICB2YXIgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcbiAgaWYgKGV2bGlzdGVuZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKVxuICAgIHJldHVybiB1bndyYXAgPyBbZXZsaXN0ZW5lci5saXN0ZW5lciB8fCBldmxpc3RlbmVyXSA6IFtldmxpc3RlbmVyXTtcblxuICByZXR1cm4gdW53cmFwID9cbiAgICB1bndyYXBMaXN0ZW5lcnMoZXZsaXN0ZW5lcikgOiBhcnJheUNsb25lKGV2bGlzdGVuZXIsIGV2bGlzdGVuZXIubGVuZ3RoKTtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCB0cnVlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmF3TGlzdGVuZXJzID0gZnVuY3Rpb24gcmF3TGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5saXN0ZW5lckNvdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGlzdGVuZXJDb3VudC5jYWxsKGVtaXR0ZXIsIHR5cGUpO1xuICB9XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBsaXN0ZW5lckNvdW50O1xuZnVuY3Rpb24gbGlzdGVuZXJDb3VudCh0eXBlKSB7XG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG5cbiAgICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoZXZsaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHJldHVybiB0aGlzLl9ldmVudHNDb3VudCA+IDAgPyBSZWZsZWN0T3duS2V5cyh0aGlzLl9ldmVudHMpIDogW107XG59O1xuXG5mdW5jdGlvbiBhcnJheUNsb25lKGFyciwgbikge1xuICB2YXIgY29weSA9IG5ldyBBcnJheShuKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpXG4gICAgY29weVtpXSA9IGFycltpXTtcbiAgcmV0dXJuIGNvcHk7XG59XG5cbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKDsgaW5kZXggKyAxIDwgbGlzdC5sZW5ndGg7IGluZGV4KyspXG4gICAgbGlzdFtpbmRleF0gPSBsaXN0W2luZGV4ICsgMV07XG4gIGxpc3QucG9wKCk7XG59XG5cbmZ1bmN0aW9uIHVud3JhcExpc3RlbmVycyhhcnIpIHtcbiAgdmFyIHJldCA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyArK2kpIHtcbiAgICByZXRbaV0gPSBhcnJbaV0ubGlzdGVuZXIgfHwgYXJyW2ldO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9